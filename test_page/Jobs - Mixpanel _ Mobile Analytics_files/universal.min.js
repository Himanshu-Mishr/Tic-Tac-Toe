(function(){var a=this,d=a._,h={},f=Array.prototype,e=Object.prototype,j=f.push,l=f.slice,b=f.concat,c=e.toString,i=e.hasOwnProperty,o=f.forEach,p=f.map,k=f.reduce,n=f.reduceRight,q=f.filter,m=f.every,v=f.some,B=f.indexOf,y=f.lastIndexOf,e=Array.isArray,G=Object.keys,H=Function.prototype.bind,g=function(b){if(b instanceof g)return b;if(!(this instanceof g))return new g(b);this._wrapped=b};if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports)exports=module.exports=g;exports._=
g}else a._=g;g.VERSION="1.5.2";var u=g.each=g.forEach=function(b,a,c){if(null!=b)if(o&&b.forEach===o)b.forEach(a,c);else if(b.length===+b.length)for(var e=0,i=b.length;e<i&&!(a.call(c,b[e],e,b)===h);e++);else for(var n=g.keys(b),e=0,i=n.length;e<i&&!(a.call(c,b[n[e]],n[e],b)===h);e++);};g.map=g.collect=function(b,a,c){var e=[];if(null==b)return e;if(p&&b.map===p)return b.map(a,c);u(b,function(b,i,C){e.push(a.call(c,b,i,C))});return e};g.reduce=g.foldl=g.inject=function(b,a,c,e){var i=2<arguments.length;
null==b&&(b=[]);if(k&&b.reduce===k)return e&&(a=g.bind(a,e)),i?b.reduce(a,c):b.reduce(a);u(b,function(b,C,n){i?c=a.call(e,c,b,C,n):(c=b,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return c};g.reduceRight=g.foldr=function(b,a,c,e){var i=2<arguments.length;null==b&&(b=[]);if(n&&b.reduceRight===n)return e&&(a=g.bind(a,e)),i?b.reduceRight(a,c):b.reduceRight(a);var d=b.length;if(d!==+d)var f=g.keys(b),d=f.length;u(b,function(n,j,g){j=f?f[--d]:--d;i?c=a.call(e,c,b[j],
j,g):(c=b[j],i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return c};g.find=g.detect=function(b,a,c){var e;z(b,function(b,i,C){if(a.call(c,b,i,C))return e=b,!0});return e};g.filter=g.select=function(b,a,c){var e=[];if(null==b)return e;if(q&&b.filter===q)return b.filter(a,c);u(b,function(b,i,C){a.call(c,b,i,C)&&e.push(b)});return e};g.reject=function(b,a,c){return g.filter(b,function(b,e,i){return!a.call(c,b,e,i)},c)};g.every=g.all=function(b,a,c){a||(a=g.identity);
var e=!0;if(null==b)return e;if(m&&b.every===m)return b.every(a,c);u(b,function(b,i,n){if(!(e=e&&a.call(c,b,i,n)))return h});return!!e};var z=g.some=g.any=function(b,a,c){a||(a=g.identity);var e=!1;if(null==b)return e;if(v&&b.some===v)return b.some(a,c);u(b,function(b,i,n){if(e||(e=a.call(c,b,i,n)))return h});return!!e};g.contains=g.include=function(b,a){return null==b?!1:B&&b.indexOf===B?-1!=b.indexOf(a):z(b,function(b){return b===a})};g.invoke=function(b,a){var c=l.call(arguments,2),e=g.isFunction(a);
return g.map(b,function(b){return(e?a:b[a]).apply(b,c)})};g.pluck=function(b,a){return g.map(b,function(b){return b[a]})};g.where=function(b,a,c){return g.isEmpty(a)?c?void 0:[]:g[c?"find":"filter"](b,function(b){for(var c in a)if(a[c]!==b[c])return!1;return!0})};g.findWhere=function(b,a){return g.where(b,a,!0)};g.max=function(b,a,c){if(!a&&g.isArray(b)&&b[0]===+b[0]&&65535>b.length)return Math.max.apply(Math,b);if(!a&&g.isEmpty(b))return-Infinity;var e={computed:-Infinity,value:-Infinity};u(b,function(b,
i,n){i=a?a.call(c,b,i,n):b;i>e.computed&&(e={value:b,computed:i})});return e.value};g.min=function(b,a,c){if(!a&&g.isArray(b)&&b[0]===+b[0]&&65535>b.length)return Math.min.apply(Math,b);if(!a&&g.isEmpty(b))return Infinity;var e={computed:Infinity,value:Infinity};u(b,function(b,i,n){i=a?a.call(c,b,i,n):b;i<e.computed&&(e={value:b,computed:i})});return e.value};g.shuffle=function(b){var a,c=0,e=[];u(b,function(b){a=g.random(c++);e[c-1]=e[a];e[a]=b});return e};g.sample=function(b,a,c){return 2>arguments.length||
c?b[g.random(b.length-1)]:g.shuffle(b).slice(0,Math.max(0,a))};var x=function(b){return g.isFunction(b)?b:function(a){return a[b]}};g.sortBy=function(b,a,c){var e=x(a);return g.pluck(g.map(b,function(b,a,i){return{value:b,index:a,criteria:e.call(c,b,a,i)}}).sort(function(b,a){var c=b.criteria,e=a.criteria;if(c!==e){if(c>e||void 0===c)return 1;if(c<e||void 0===e)return-1}return b.index-a.index}),"value")};var w=function(b){return function(a,c,e){var i={},n=null==c?g.identity:x(c);u(a,function(c,d){var f=
n.call(e,c,d,a);b(i,f,c)});return i}};g.groupBy=w(function(b,a,c){(g.has(b,a)?b[a]:b[a]=[]).push(c)});g.indexBy=w(function(b,a,c){b[a]=c});g.countBy=w(function(b,a){g.has(b,a)?b[a]++:b[a]=1});g.sortedIndex=function(b,a,c,e){for(var c=null==c?g.identity:x(c),a=c.call(e,a),i=0,n=b.length;i<n;){var d=i+n>>>1;c.call(e,b[d])<a?i=d+1:n=d}return i};g.toArray=function(b){return!b?[]:g.isArray(b)?l.call(b):b.length===+b.length?g.map(b,g.identity):g.values(b)};g.size=function(b){return null==b?0:b.length===
+b.length?b.length:g.keys(b).length};g.first=g.head=g.take=function(b,a,c){return null==b?void 0:null==a||c?b[0]:l.call(b,0,a)};g.initial=function(b,a,c){return l.call(b,0,b.length-(null==a||c?1:a))};g.last=function(b,a,c){return null==b?void 0:null==a||c?b[b.length-1]:l.call(b,Math.max(b.length-a,0))};g.rest=g.tail=g.drop=function(b,a,c){return l.call(b,null==a||c?1:a)};g.compact=function(b){return g.filter(b,g.identity)};var t=function(a,c,e){if(c&&g.every(a,g.isArray))return b.apply(e,a);u(a,function(b){g.isArray(b)||
g.isArguments(b)?c?j.apply(e,b):t(b,c,e):e.push(b)});return e};g.flatten=function(b,a){return t(b,a,[])};g.without=function(b){return g.difference(b,l.call(arguments,1))};g.uniq=g.unique=function(b,a,c,e){g.isFunction(a)&&(e=c,c=a,a=!1);var c=c?g.map(b,c,e):b,i=[],n=[];u(c,function(c,e){if(a?!e||n[n.length-1]!==c:!g.contains(n,c))n.push(c),i.push(b[e])});return i};g.union=function(){return g.uniq(g.flatten(arguments,!0))};g.intersection=function(b){var a=l.call(arguments,1);return g.filter(g.uniq(b),
function(b){return g.every(a,function(a){return 0<=g.indexOf(a,b)})})};g.difference=function(a){var c=b.apply(f,l.call(arguments,1));return g.filter(a,function(b){return!g.contains(c,b)})};g.zip=function(){for(var b=g.max(g.pluck(arguments,"length").concat(0)),a=Array(b),c=0;c<b;c++)a[c]=g.pluck(arguments,""+c);return a};g.object=function(b,a){if(null==b)return{};for(var c={},e=0,i=b.length;e<i;e++)a?c[b[e]]=a[e]:c[b[e][0]]=b[e][1];return c};g.indexOf=function(b,a,c){if(null==b)return-1;var e=0,i=
b.length;if(c)if("number"==typeof c)e=0>c?Math.max(0,i+c):c;else return e=g.sortedIndex(b,a),b[e]===a?e:-1;if(B&&b.indexOf===B)return b.indexOf(a,c);for(;e<i;e++)if(b[e]===a)return e;return-1};g.lastIndexOf=function(b,a,c){if(null==b)return-1;var e=null!=c;if(y&&b.lastIndexOf===y)return e?b.lastIndexOf(a,c):b.lastIndexOf(a);for(c=e?c:b.length;c--;)if(b[c]===a)return c;return-1};g.range=function(b,a,c){1>=arguments.length&&(a=b||0,b=0);for(var c=arguments[2]||1,e=Math.max(Math.ceil((a-b)/c),0),i=0,
n=Array(e);i<e;)n[i++]=b,b+=c;return n};var s=function(){};g.bind=function(b,a){var c,e;if(H&&b.bind===H)return H.apply(b,l.call(arguments,1));if(!g.isFunction(b))throw new TypeError;c=l.call(arguments,2);return e=function(){if(!(this instanceof e))return b.apply(a,c.concat(l.call(arguments)));s.prototype=b.prototype;var i=new s;s.prototype=null;var n=b.apply(i,c.concat(l.call(arguments)));return Object(n)===n?n:i}};g.partial=function(b){var a=l.call(arguments,1);return function(){return b.apply(this,
a.concat(l.call(arguments)))}};g.bindAll=function(b){var a=l.call(arguments,1);if(0===a.length)throw Error("bindAll must be passed function names");u(a,function(a){b[a]=g.bind(b[a],b)});return b};g.memoize=function(b,a){var c={};a||(a=g.identity);return function(){var e=a.apply(this,arguments);return g.has(c,e)?c[e]:c[e]=b.apply(this,arguments)}};g.delay=function(b,a){var c=l.call(arguments,2);return setTimeout(function(){return b.apply(null,c)},a)};g.defer=function(b){return g.delay.apply(g,[b,1].concat(l.call(arguments,
1)))};g.throttle=function(b,a,c){var e,i,n,d=null,f=0;c||(c={});var j=function(){f=!1===c.leading?0:new Date;d=null;n=b.apply(e,i)};return function(){var g=new Date;!f&&!1===c.leading&&(f=g);var q=a-(g-f);e=this;i=arguments;0>=q?(clearTimeout(d),d=null,f=g,n=b.apply(e,i)):!d&&!1!==c.trailing&&(d=setTimeout(j,q));return n}};g.debounce=function(b,a,c){var e,i,n,d,f;return function(){n=this;i=arguments;d=new Date;var j=function(){var g=new Date-d;g<a?e=setTimeout(j,a-g):(e=null,c||(f=b.apply(n,i)))},
g=c&&!e;e||(e=setTimeout(j,a));g&&(f=b.apply(n,i));return f}};g.once=function(b){var a=!1,c;return function(){if(a)return c;a=!0;c=b.apply(this,arguments);b=null;return c}};g.wrap=function(b,a){return function(){var c=[b];j.apply(c,arguments);return a.apply(this,c)}};g.compose=function(){var b=arguments;return function(){for(var a=arguments,c=b.length-1;0<=c;c--)a=[b[c].apply(this,a)];return a[0]}};g.after=function(b,a){return function(){if(1>--b)return a.apply(this,arguments)}};g.keys=G||function(b){if(b!==
Object(b))throw new TypeError("Invalid object");var a=[],c;for(c in b)g.has(b,c)&&a.push(c);return a};g.values=function(b){for(var a=g.keys(b),c=a.length,e=Array(c),i=0;i<c;i++)e[i]=b[a[i]];return e};g.pairs=function(b){for(var a=g.keys(b),c=a.length,e=Array(c),i=0;i<c;i++)e[i]=[a[i],b[a[i]]];return e};g.invert=function(b){for(var a={},c=g.keys(b),e=0,i=c.length;e<i;e++)a[b[c[e]]]=c[e];return a};g.functions=g.methods=function(b){var a=[],c;for(c in b)g.isFunction(b[c])&&a.push(c);return a.sort()};
g.extend=function(b){u(l.call(arguments,1),function(a){if(a)for(var c in a)b[c]=a[c]});return b};g.pick=function(a){var c={},e=b.apply(f,l.call(arguments,1));u(e,function(b){b in a&&(c[b]=a[b])});return c};g.omit=function(a){var c={},e=b.apply(f,l.call(arguments,1)),i;for(i in a)g.contains(e,i)||(c[i]=a[i]);return c};g.defaults=function(b){u(l.call(arguments,1),function(a){if(a)for(var c in a)void 0===b[c]&&(b[c]=a[c])});return b};g.clone=function(b){return!g.isObject(b)?b:g.isArray(b)?b.slice():
g.extend({},b)};g.tap=function(b,a){a(b);return b};var A=function(b,a,e,i){if(b===a)return 0!==b||1/b==1/a;if(null==b||null==a)return b===a;if(b instanceof g)b=b._wrapped;if(a instanceof g)a=a._wrapped;var n=c.call(b);if(n!=c.call(a))return!1;switch(n){case "[object String]":return b==""+a;case "[object Number]":return b!=+b?a!=+a:0==b?1/b==1/a:b==+a;case "[object Date]":case "[object Boolean]":return+b==+a;case "[object RegExp]":return b.source==a.source&&b.global==a.global&&b.multiline==a.multiline&&
b.ignoreCase==a.ignoreCase}if("object"!=typeof b||"object"!=typeof a)return!1;for(var d=e.length;d--;)if(e[d]==b)return i[d]==a;var d=b.constructor,f=a.constructor;if(d!==f&&(!g.isFunction(d)||!(d instanceof d&&g.isFunction(f)&&f instanceof f)))return!1;e.push(b);i.push(a);d=0;f=!0;if("[object Array]"==n){if(d=b.length,f=d==a.length)for(;d--&&(f=A(b[d],a[d],e,i)););}else{for(var j in b)if(g.has(b,j)&&(d++,!(f=g.has(a,j)&&A(b[j],a[j],e,i))))break;if(f){for(j in a)if(g.has(a,j)&&!d--)break;f=!d}}e.pop();
i.pop();return f};g.isEqual=function(b,a){return A(b,a,[],[])};g.isEmpty=function(b){if(null==b)return!0;if(g.isArray(b)||g.isString(b))return 0===b.length;for(var a in b)if(g.has(b,a))return!1;return!0};g.isElement=function(b){return!!(b&&1===b.nodeType)};g.isArray=e||function(b){return"[object Array]"==c.call(b)};g.isObject=function(b){return b===Object(b)};u("Arguments,Function,String,Number,Date,RegExp".split(","),function(b){g["is"+b]=function(a){return c.call(a)=="[object "+b+"]"}});if(!g.isArguments(arguments))g.isArguments=
function(b){return!(!b||!g.has(b,"callee"))};if("function"!==typeof/./)g.isFunction=function(b){return"function"===typeof b};g.isFinite=function(b){return isFinite(b)&&!isNaN(parseFloat(b))};g.isNaN=function(b){return g.isNumber(b)&&b!=+b};g.isBoolean=function(b){return!0===b||!1===b||"[object Boolean]"==c.call(b)};g.isNull=function(b){return null===b};g.isUndefined=function(b){return void 0===b};g.has=function(b,a){return i.call(b,a)};g.noConflict=function(){a._=d;return this};g.identity=function(b){return b};
g.times=function(b,a,c){for(var e=Array(Math.max(0,b)),i=0;i<b;i++)e[i]=a.call(c,i);return e};g.random=function(b,a){null==a&&(a=b,b=0);return b+Math.floor(Math.random()*(a-b+1))};var D={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};D.unescape=g.invert(D.escape);var I={escape:RegExp("["+g.keys(D.escape).join("")+"]","g"),unescape:RegExp("("+g.keys(D.unescape).join("|")+")","g")};g.each(["escape","unescape"],function(b){g[b]=function(a){return null==a?"":(""+a).replace(I[b],
function(a){return D[b][a]})}});g.result=function(b,a){if(null!=b){var c=b[a];return g.isFunction(c)?c.call(b):c}};g.mixin=function(b){u(g.functions(b),function(a){var c=g[a]=b[a];g.prototype[a]=function(){var b=[this._wrapped];j.apply(b,arguments);b=c.apply(g,b);return this._chain?g(b).chain():b}})};var J=0;g.uniqueId=function(b){var a=++J+"";return b?b+a:a};g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var E=/(.)^/,F={"'":"'","\\":"\\",
"\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;g.template=function(b,a,c){var e,c=g.defaults({},c,g.templateSettings),i=RegExp([(c.escape||E).source,(c.interpolate||E).source,(c.evaluate||E).source].join("|")+"|$","g"),n=0,d="__p+='";b.replace(i,function(a,c,e,i,f){d+=b.slice(n,f).replace(K,function(b){return"\\"+F[b]});c&&(d+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");e&&(d+="'+\n((__t=("+e+"))==null?'':__t)+\n'");i&&(d+="';\n"+i+"\n__p+='");
n=f+a.length;return a});d+="';\n";c.variable||(d="with(obj||{}){\n"+d+"}\n");d="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+d+"return __p;\n";try{e=new Function(c.variable||"obj","_",d)}catch(f){throw f.source=d,f;}if(a)return e(a,g);a=function(b){return e.call(this,b,g)};a.source="function("+(c.variable||"obj")+"){\n"+d+"}";return a};g.chain=function(b){return g(b).chain()};g.mixin(g);u("pop,push,reverse,shift,sort,splice,unshift".split(","),function(b){var a=
f[b];g.prototype[b]=function(){var c=this._wrapped;a.apply(c,arguments);("shift"==b||"splice"==b)&&0===c.length&&delete c[0];return this._chain?g(c).chain():c}});u(["concat","join","slice"],function(b){var a=f[b];g.prototype[b]=function(){var b=a.apply(this._wrapped,arguments);return this._chain?g(b).chain():b}});g.extend(g.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);(function(a,d){var h=d.prototype.trim,f=d.prototype.trimRight,e=d.prototype.trimLeft,j=function(b,a){if(1>a)return"";for(var c="";0<a;)a&1&&(c+=b),a>>=1,b+=b;return c},l=[].slice,b=function(b){return null==b?"\\s":b.source?b.source:"["+k.escapeRegExp(b)+"]"},c={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},i={},o;for(o in c)i[c[o]]=o;var p=function(){function b(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var a=function(){a.cache.hasOwnProperty(arguments[0])||(a.cache[arguments[0]]=
a.parse(arguments[0]));return a.format.call(null,a.cache[arguments[0]],arguments)};a.format=function(a,c){var e=1,i=a.length,f="",k=[],g,l,o,q;for(g=0;g<i;g++)if(f=b(a[g]),"string"===f)k.push(a[g]);else if("array"===f){o=a[g];if(o[2]){f=c[e];for(l=0;l<o[2].length;l++){if(!f.hasOwnProperty(o[2][l]))throw Error(p('[_.sprintf] property "%s" does not exist',o[2][l]));f=f[o[2][l]]}}else f=o[1]?c[o[1]]:c[e++];if(/[^s]/.test(o[8])&&"number"!=b(f))throw Error(p("[_.sprintf] expecting number but found %s",
b(f)));switch(o[8]){case "b":f=f.toString(2);break;case "c":f=d.fromCharCode(f);break;case "d":f=parseInt(f,10);break;case "e":f=o[7]?f.toExponential(o[7]):f.toExponential();break;case "f":f=o[7]?parseFloat(f).toFixed(o[7]):parseFloat(f);break;case "o":f=f.toString(8);break;case "s":f=(f=d(f))&&o[7]?f.substring(0,o[7]):f;break;case "u":f=Math.abs(f);break;case "x":f=f.toString(16);break;case "X":f=f.toString(16).toUpperCase()}f=/[def]/.test(o[8])&&o[3]&&0<=f?"+"+f:f;l=o[4]?"0"==o[4]?"0":o[4].charAt(1):
" ";q=o[6]-d(f).length;l=o[6]?j(l,q):"";k.push(o[5]?f+l:l+f)}return k.join("")};a.cache={};a.parse=function(b){for(var a=[],c=[],e=0;b;){if(null!==(a=/^[^\x25]+/.exec(b)))c.push(a[0]);else if(null!==(a=/^\x25{2}/.exec(b)))c.push("%");else if(null!==(a=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(b))){if(a[2]){var e=e|1,i=[],f=a[2],d=[];if(null!==(d=/^([a-z_][a-z_\d]*)/i.exec(f)))for(i.push(d[1]);""!==(f=f.substring(d[0].length));)if(null!==(d=/^\.([a-z_][a-z_\d]*)/i.exec(f)))i.push(d[1]);
else if(null!==(d=/^\[(\d+)\]/.exec(f)))i.push(d[1]);else throw Error("[_.sprintf] huh?");else throw Error("[_.sprintf] huh?");a[2]=i}else e|=2;if(3===e)throw Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");c.push(a)}else throw Error("[_.sprintf] huh?");b=b.substring(a[0].length)}return c};return a}(),k={VERSION:"2.3.0",isBlank:function(b){null==b&&(b="");return/^\s*$/.test(b)},stripTags:function(b){return null==b?"":d(b).replace(/<\/?[^>]+>/g,"")},capitalize:function(b){b=
null==b?"":d(b);return b.charAt(0).toUpperCase()+b.slice(1)},chop:function(b,a){if(null==b)return[];b=d(b);a=~~a;return 0<a?b.match(RegExp(".{1,"+a+"}","g")):[b]},clean:function(b){return k.strip(b).replace(/\s+/g," ")},count:function(b,a){return null==b||null==a?0:d(b).split(a).length-1},chars:function(b){return null==b?[]:d(b).split("")},swapCase:function(b){return null==b?"":d(b).replace(/\S/g,function(b){return b===b.toUpperCase()?b.toLowerCase():b.toUpperCase()})},escapeHTML:function(b){return null==
b?"":d(b).replace(/[&<>"']/g,function(b){return"&"+i[b]+";"})},unescapeHTML:function(b){return null==b?"":d(b).replace(/\&([^;]+);/g,function(b,a){var e;return a in c?c[a]:(e=a.match(/^#x([\da-fA-F]+)$/))?d.fromCharCode(parseInt(e[1],16)):(e=a.match(/^#(\d+)$/))?d.fromCharCode(~~e[1]):b})},escapeRegExp:function(b){return null==b?"":d(b).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(b,a,c,e){b=k.chars(b);b.splice(~~a,~~c,e);return b.join("")},insert:function(b,a,c){return k.splice(b,
a,0,c)},include:function(b,a){return""===a?!0:null==b?!1:-1!==d(b).indexOf(a)},join:function(){var b=l.call(arguments),a=b.shift();null==a&&(a="");return b.join(a)},lines:function(b){return null==b?[]:d(b).split("\n")},reverse:function(b){return k.chars(b).reverse().join("")},startsWith:function(b,a){if(""===a)return!0;if(null==b||null==a)return!1;b=d(b);a=d(a);return b.length>=a.length&&b.slice(0,a.length)===a},endsWith:function(b,a){if(""===a)return!0;if(null==b||null==a)return!1;b=d(b);a=d(a);
return b.length>=a.length&&b.slice(b.length-a.length)===a},succ:function(b){if(null==b)return"";b=d(b);return b.slice(0,-1)+d.fromCharCode(b.charCodeAt(b.length-1)+1)},titleize:function(b){return null==b?"":d(b).replace(/(?:^|\s)\S/g,function(b){return b.toUpperCase()})},camelize:function(b){return k.trim(b).replace(/[-_\s]+(.)?/g,function(b,a){return a.toUpperCase()})},underscored:function(b){return k.trim(b).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(b){return k.trim(b).replace(/([A-Z])/g,
"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(b){return k.titleize(d(b).replace(/_/g," ")).replace(/\s/g,"")},humanize:function(b){return k.capitalize(k.underscored(b).replace(/_id$/,"").replace(/_/g," "))},trim:function(a,c){if(null==a)return"";if(!c&&h)return h.call(a);c=b(c);return d(a).replace(RegExp("^"+c+"+|"+c+"+$","g"),"")},ltrim:function(a,c){if(null==a)return"";if(!c&&e)return e.call(a);c=b(c);return d(a).replace(RegExp("^"+c+"+"),"")},rtrim:function(a,c){if(null==a)return"";
if(!c&&f)return f.call(a);c=b(c);return d(a).replace(RegExp(c+"+$"),"")},truncate:function(b,a,c){if(null==b)return"";b=d(b);a=~~a;return b.length>a?b.slice(0,a)+(c||"..."):b},prune:function(b,a,c){if(null==b)return"";b=d(b);a=~~a;c=null!=c?d(c):"...";if(b.length<=a)return b;a=b.slice(0,a+1).replace(/.(?=\W*\w*$)/g,function(b){return b.toUpperCase()!==b.toLowerCase()?"A":" "});a=a.slice(a.length-2).match(/\w\w/)?a.replace(/\s*\S+$/,""):k.rtrim(a.slice(0,a.length-1));return(a+c).length>b.length?b:
b.slice(0,a.length)+c},words:function(b,a){return k.isBlank(b)?[]:k.trim(b,a).split(a||/\s+/)},pad:function(b,a,c,e){var b=null==b?"":d(b),a=~~a,i=0;c?1<c.length&&(c=c.charAt(0)):c=" ";switch(e){case "right":return i=a-b.length,b+j(c,i);case "both":return i=a-b.length,j(c,Math.ceil(i/2))+b+j(c,Math.floor(i/2));default:return i=a-b.length,j(c,i)+b}},lpad:function(b,a,c){return k.pad(b,a,c)},rpad:function(b,a,c){return k.pad(b,a,c,"right")},lrpad:function(b,a,c){return k.pad(b,a,c,"both")},sprintf:p,
vsprintf:function(b,a){a.unshift(b);return p.apply(null,a)},toNumber:function(b,a){if(null==b||""==b)return 0;var b=d(b),c;c=1*(1*b||0).toFixed(~~a)||0;return 0===c&&!b.match(/^0+$/)?Number.NaN:c},numberFormat:function(b,a,c,e){if(isNaN(b)||null==b)return"";b=b.toFixed(~~a);e=e||",";b=b.split(".");c=b[1]?(c||".")+b[1]:"";return b[0].replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+e)+c},strRight:function(b,a){if(null==b)return"";var b=d(b),a=null!=a?d(a):a,c=!a?-1:b.indexOf(a);return~c?b.slice(c+a.length,b.length):
b},strRightBack:function(b,a){if(null==b)return"";var b=d(b),a=null!=a?d(a):a,c=!a?-1:b.lastIndexOf(a);return~c?b.slice(c+a.length,b.length):b},strLeft:function(b,a){if(null==b)return"";var b=d(b),a=null!=a?d(a):a,c=!a?-1:b.indexOf(a);return~c?b.slice(0,c):b},strLeftBack:function(b,a){if(null==b)return"";var b=b+"",c=b.lastIndexOf(null!=a?""+a:a);return~c?b.slice(0,c):b},toSentence:function(b,a,c,e){var a=a||", ",c=c||" and ",i=b.slice(),f=i.pop();2<b.length&&e&&(c=k.rtrim(a)+c);return i.length?i.join(a)+
c+f:f},toSentenceSerial:function(){var b=l.call(arguments);b[3]=!0;return k.toSentence.apply(k,b)},slugify:function(a){if(null==a)return"";var c=RegExp(b("\u0105\u00e0\u00e1\u00e4\u00e2\u00e3\u00e5\u00e6\u0107\u0119\u00e8\u00e9\u00eb\u00ea\u00ec\u00ed\u00ef\u00ee\u0142\u0144\u00f2\u00f3\u00f6\u00f4\u00f5\u00f8\u00f9\u00fa\u00fc\u00fb\u00f1\u00e7\u017c\u017a"),"g"),a=d(a).toLowerCase().replace(c,function(b){return"aaaaaaaaceeeeeiiiilnoooooouuuunczz".charAt("\u0105\u00e0\u00e1\u00e4\u00e2\u00e3\u00e5\u00e6\u0107\u0119\u00e8\u00e9\u00eb\u00ea\u00ec\u00ed\u00ef\u00ee\u0142\u0144\u00f2\u00f3\u00f6\u00f4\u00f5\u00f8\u00f9\u00fa\u00fc\u00fb\u00f1\u00e7\u017c\u017a".indexOf(b))||
"-"});return k.dasherize(a.replace(/[^\w\s-]/g,""))},surround:function(b,a){return[a,b,a].join("")},quote:function(b){return k.surround(b,'"')},exports:function(){var b={},a;for(a in this)this.hasOwnProperty(a)&&!a.match(/^(?:include|contains|reverse)$/)&&(b[a]=this[a]);return b},repeat:function(b,a,c){if(null==b)return"";a=~~a;if(null==c)return j(d(b),a);for(var e=[];0<a;e[--a]=b);return e.join(c)},levenshtein:function(b,a){if(null==b&&null==a)return 0;if(null==b)return d(a).length;if(null==a)return d(b).length;
for(var b=d(b),a=d(a),c=[],e,i,f=0;f<=a.length;f++)for(var j=0;j<=b.length;j++)i=f&&j?b.charAt(j-1)===a.charAt(f-1)?e:Math.min(c[j],c[j-1],e)+1:f+j,e=c[j],c[j]=i;return c.pop()}};k.strip=k.trim;k.lstrip=k.ltrim;k.rstrip=k.rtrim;k.center=k.lrpad;k.rjust=k.lpad;k.ljust=k.rpad;k.contains=k.include;k.q=k.quote;if("undefined"!==typeof exports){if("undefined"!==typeof module&&module.exports)module.exports=k;exports._s=k}else"function"===typeof define&&define.amd?define("underscore.string",[],function(){return k}):
(a._=a._||{},a._.string=a._.str=k)}).call(this,this,String);_.mixin(_.string.exports());
_.mixin({includes:_.str.include,inherit:function(a,d){a.prototype=new d;a.prototype.constructor=a;a.superclass=d.prototype;return a},deep_diff:function(a,d){var h={};_.each(a,function(a,e){_.isUndefined(d)?h[e]=a:d[e]!==a&&(h[e]=_.isObject(a)?_.deep_diff(a,d[e]):a)});return h},reject:function(a,d,h){if(_.isNumber(a.length)){var f=[];if(null==a)return f;_.each(a,function(a,j,l){d.call(h,a,j,l)||(f[f.length]=a)})}else{f={};if(null==a)return f;_.each(a,function(a,j,l){d.call(h,a,j,l)||(f[j]=a)})}return f},
group:function(a,d,h){return _.reduce(a,function(a,e){var j=d.call(h,e);j in a?a[j].push(e):a[j]=[e];return a},{},h)},partition:function(a,d,h){h&&(d=_.bind(d,h));var f=[],e=[];_.each(a,function(a,l,b){(d(a,l,b)?f:e).push(a)});return[f,e]},bundle:function(a,d,h){d=d||function(a,e){return a===e};return _.reduce(a,function(a,e){var j=a[a.length-1],l=j[0];void 0!==l&&null!==l?d.call(h,l,e)?j.push(e):a.push([e]):j.push(e);return a},[[]])},uniq2:function(a,d,h){return _.reduce(a,function(a,e,j){if(0==
j||!_.any(a,function(a){if(d.call(h,a,e))return!0}))a[a.length]=e;return a},[])},choice:function(a){var d=Math.floor(Math.random()*a.length);return a[d]},namespace:function(a,d){var d=d||function(){return{}},h=a.split("."),f=window;_.each(h,function(a){void 0===f[a]&&(f[a]={});f=f[a]});_.extend(f,d(f))},decode_html:function(a){var d=document.createElement("div");d.innerHTML=a;return 0===d.childNodes.length?"":d.childNodes[0].nodeValue},obj_diff:function(a,d){var h={};_.each(a,function(a,e){if(!Object.prototype.hasOwnProperty.call(d,
e)||a!==d[e])h[e]=a});return h},sum:function(a){var d=0;_.each(a,function(a){d+=a});return d},mean:function(a){return a&&a.length?_.sum(a)/a.length:0}});var WidgetCSS={already_inserted:{},gradient:function(a,d,h,f){a.background=[];void 0!==f&&a.background.push(f);a.background=a.background.concat([(f?f+",":"")+"-webkit-gradient(linear, left top, left bottom, from("+d+"), to("+h+"))",(f?f+",":"")+"-moz-linear-gradient(top, "+d+", "+h+")"]);a.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr="'+d+'", endColorstr="'+h+'")';return a},gradient_horizontal:function(a,d,h,f){a.background=[];void 0!==f&&a.background.push(f);a.background=a.background.concat([(f?
f+",":"")+"-webkit-gradient(linear, left top, right top, from("+d+"), to("+h+"))",(f?f+",":"")+"-moz-linear-gradient(left, "+d+", "+h+")"]);a.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr="'+d+'", endColorstr="'+h+'", GradientType=1)';return a},xbrowser:function(a,d,h){_.each(["","-moz-","-webkit-","-khtml-","-o-"],function(f){a[f+d]=h})},custom_button:function(a){_.each({cursor:"pointer","line-height":"normal !important",border:"0",outline:"0","background-color":"transparent"},
function(d,h){h in a||(a[h]=d)})},rounded:function(a,d){for(var h=d.split(" ");4>h.length;)h.push("0px");_.each(_.zip(["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],h),function(d){WidgetCSS.xbrowser(a,d[0],d[1])})},generate:function(a,d,h){var f=[];$("#widget_css").length||$("head").append('<style type="text/css" id="widget_css"></style>');h in WidgetCSS.already_inserted||(_.each(a,function(a,j){var l;"_container"===j&&(j="");l=j==d.class_name?
"."+j:j.length&&"^"==j[0]?"."+d.class_name+j.slice(1):"."+d.class_name+" "+j;l+=" {";_.each(a,function(b,a){_.isArray(b)?_.each(b,function(b){l+=a+": "+b+";\n"}):l+=a+": "+b+";\n"});l+="}";f.push(l)}),$("#widget_css").append(f.join("\n")),WidgetCSS.already_inserted[h]=!0)}};function JSWidget(){this.class_name="js_widget";this.defer_style=!1}
JSWidget.prototype.create=function(a){this.container=a?$(a):$("<div>");this.container.attr("id")?this.id=this.container.attr("id"):(this.id="jswidget_"+Math.floor(1E9*Math.random()),this.container.attr("id",this.id));this.container.addClass(this.class_name);this.defer_style||this.style();return this};JSWidget.prototype.remove=function(){this.container.trigger("remove_item",[this]);this.container.remove()};
JSWidget.prototype.val=function(){return void 0!==this.value?this.value:void 0!==this.container.attr("val")?this.container.attr("val"):null};JSWidget.prototype.styles=function(){};JSWidget.prototype.style=function(){if(!window.DISABLE_JSWIDGET_STYLES){var a=this.class_name+"_style",d=this.styles();d&&WidgetCSS.generate(d,this,a)}};JSWidget.prototype.init=function(){};var JSWidgetList=function(){this.class_name="js_widget_list"};_.inherit(JSWidgetList,JSWidget);
JSWidgetList.prototype.create=function(a){JSWidgetList.superclass.create.call(this,a);this.widgets=[];return this};JSWidgetList.prototype.append=function(a,d,h){this.widgets.push(a);void 0!==h?h.html(a.container):h=a.container;(d||this.appendTo||this.container).append(h)};JSWidgetList.prototype.replace=function(a,d){var h=_.indexOf(this.widgets,a);-1<h&&(d.container.insertBefore(a.container),a.container.remove(),this.widgets[h]=d);return-1<h};
JSWidgetList.prototype.clear=function(){(this.appendTo||this.container).html("");this.widgets=[]};JSWidgetList.prototype.remove_item=function(a){a=_.indexOf(this.widgets,a);-1<a&&this.widgets.splice(a,1)[0].container.remove();return-1<a};JSWidgetList.prototype.sort=function(a,d){this.widgets=this.widgets.sort(function(d,f){d=a(d);f=a(f);return d<f?-1:d>f?1:0});if(d)this.widgets=this.widgets.reverse();_.each(this.widgets,function(a){this.appendTo.append(a.container)},this)};
JSWidgetList.prototype.at=function(a){return this.widgets[a]};JSWidgetList.prototype.each=function(a,d){_.each(this.widgets,a,d)};JSWidgetList.prototype.map=function(a,d){return _.map(this.widgets,a,d)};JSWidgetList.prototype.find=function(a,d){return _.find(this.widgets,a,d)};JSWidgetList.prototype.filter=function(a,d){return _.filter(this.widgets,a,d)};JSWidgetList.prototype.count=function(){return this.widgets.length};
JSWidgetList.prototype.insert=function(a,d){if(_.isUndefined(d))throw"position is a required argument";if(d>this.widgets.length||0>d)throw"invalid position: "+d;0===d?0===this.widgets.length?this.append(a):(a.container.insertBefore(this.widgets[0].container),this.widgets=[a].concat(this.widgets)):(a.container.insertAfter(this.widgets[d-1].container),this.widgets.splice(d,0,a))};JSWidgetList.prototype.indexOf=function(a){return _.indexOf(this.widgets,a)};
JSWidgetList.prototype.bindings=function(){var a=this;this.container.bind("remove_item",function(d,h){d.stopPropagation();a.remove_item(h)})};var Badge=function(a,d,h){this.class_name="badge_container";this.default_options={from:"partner",switcher:!0};this.create(a,d,h)};_.inherit(Badge,JSWidget);
Badge.prototype.create=function(a,d,h){Badge.superclass.create.call(this,a);this.callback=h||function(){};this.options=_.extend(this.default_options,d);this.url="http://mixpanel.com/f/"+this.options.from;this.root_path="/site_media/images/partner";this.blue=this.root_path+"/badge_blue.png";this.light=this.root_path+"/badge_light.png";this.blue_text="Get blue version";this.light_text="Get light version";this.type=0;this.img=$("<img>");this.toggle=$("<div>").addClass("toggle");this.container.append(this.img);
this.options.switcher&&this.container.append(this.toggle);this.set_type(this.type);this.bindings();return this};Badge.prototype.get_html=function(a){return['<a href="',this.url,'"><img src="http://mixpanel.com',a,'" alt="Mobile Analytics" /></a>'].join("")};
Badge.prototype.set_type=function(a){this.type=a;0==this.type?(this.img.attr("src",this.blue),this.toggle.text(this.light_text),this.callback(this.blue,this.get_html(this.blue))):1==this.type&&(this.img.attr("src",this.light),this.toggle.text(this.blue_text),this.callback(this.light,this.get_html(this.light)))};Badge.prototype.bindings=function(){var a=this;this.toggle.click(function(){a.type=0==a.type?1:0;a.set_type(a.type)})};
Badge.prototype.styles=function(){return{"":{display:"inline-block",position:"relative"},".toggle":{"font-size":"9px",color:"#41658C",cursor:"pointer","margin-left":"8px"}}};_.namespace("mp.widgets",function(){function a(){this.label_class=d;this.body_class=h}function d(){this.disabled=!1}function h(){this.item_class=f;this.disabled=!1;this.prev_item=this.comparator=void 0}function f(){this.selected=!1}_.inherit(a,JSWidget);a.prototype.create=function(e,d,f){a.superclass.create.call(this,e);this.config=_.extend(this.default_config(),f);this.default_label=this.container.html();this.label=(new this.label_class).create(null,this.config).select(this.default_label);this.body=
(new this.body_class).create(null,this.config);this.container.html("").append(this.label.container,this.body.container);this.body.fill(d).label_changed(null,this.label);this.bindings();this.config.select_first&&this.body.widgets.length&&this.select_item(this.body.widgets[0]);_.isUndefined(this.config.selected)||this.select_val(this.config.selected);return this};a.prototype.remove=function(){mp.utility.unbind_outside_event("click","base_dropdown");a.superclass.remove.call(this)};a.prototype.contains=
function(a){return void 0!==this.body.get_item_by_val(a)};a.prototype.deselect_all=function(){this.label.select(this.default_label);this.body.deselect_all()};a.prototype.default_config=function(){return{select_first:!1,emulate_select:!1,menu:!1,collapse:!1,min_width:130}};a.prototype.enable=function(){this.label.enable();this.body.enable()};a.prototype.disable=function(){this.label.disable();this.body.disable()};a.prototype.toggle_disabled=function(a){a?this.disable():this.enable()};a.prototype.activate=
function(){this.label.activate(!1);this.body.activate(!1,this.label)};a.prototype.deactivate=function(){this.label.deactivate(!1);this.body.deactivate(!1,this.label)};a.prototype.selected=function(){return this.label.val()};a.prototype.val=a.prototype.selected;a.prototype.select_item=function(a,d){if(a&&(!a.selected||this.config.menu))this.config.emulate_select&&this.label.select(a,d),this.body.select_item(a,d)};a.prototype.select_val=function(a,d){var f=this.body.get_item_by_val(a);return f?(this.select_item(f,
d),!0):!1};a.prototype.bindings=function(){this.label.container.bind("label-activated",_.bind(this.body.activate,this.body));this.label.container.bind("label-deactivated",_.bind(this.body.deactivate,this.body));this.body.container.bind("body-deactivated",_.bind(this.label.deactivate,this.label));mp.utility.bind_outside_event("click","base_dropdown",this.container,this.deactivate,this);this.body.container.bind("dropdown-item-selected",_.bind(this._item_selected,this));this.label.container.bind("label-changed",
_.bind(this.body.label_changed,this.body))};a.prototype.onchange=function(a){this.container.bind("item-selected",function(d,f,b){a(f,b)})};a.prototype.update=function(a){var d=this.val();this.body.fill(a);null!==d&&this.select_val(d,!0)};a.prototype.append_item=function(a){this.body.append_item(a)};a.prototype.entries=function(){return this.body.entries()};a.prototype._item_selected=function(a,d){this.select_item(d);this.deactivate(a)};_.inherit(d,JSWidget);d.prototype.create=function(a,f){d.superclass.create.call(this,
a);this.config=_.extend(this.default_config(),f);this.container.addClass("dropdown_label_widget");if(_.isUndefined(this.title))this.title=this.container;this.config.collapse||this.title.css("min-width",this.config.min_width);this.deactivate(!1);this.bindings();return this};d.prototype.default_config=function(){return{}};d.prototype.select=function(a,d){this.item=a;this.value="string"===typeof a?a:a.val();this._set_content(a);d||this.container.trigger("label-changed",this);return this};d.prototype._set_content=
function(a){a="string"===typeof a?a:a.title();this.config.raw_html_item_labels?this.title.html(a):this.title.text(a)};d.prototype.enable=function(){this.disabled=!1;this.container.removeClass("disabled")};d.prototype.disable=function(){this.disabled=!0;this.container.addClass("disabled")};d.prototype.activate=function(a){if(!this.disabled)this.active=!0,this.container.addClass("active"),a&&this.container.trigger("label-activated",this)};d.prototype.deactivate=function(a){if(!this.disabled&&this.active)this.active=
!1,this.container.removeClass("active"),a&&this.container.trigger("label-deactivated",this)};d.prototype.toggle_active=function(a){return this.active?this.deactivate(a):this.activate(a)};d.prototype.bindings=function(){this.container.mouseup(_.bind(this.toggle_active,this))};_.inherit(h,JSWidgetList);h.prototype.create=function(a,d){h.superclass.create.call(this,a);this.config=_.extend(this.default_config(),d);if(this.config.sortable)this.comparator=function(a){a=a.title().toLowerCase();isNaN(a)||
(a=parseFloat(a));return a};this.container.hide();this.deactivate(!1);this.bindings();this.container.addClass("dropdown_body_widget");return this};h.prototype.default_config=function(){return{sortable:!1}};h.prototype.bindings=function(){this.container.bind("item-removed",_.bind(this.remove_item,this))};h.prototype.label_changed=function(){};h.prototype.fill=function(a){this.clear();a=_(a).chain().map(function(a){return(new this.item_class).create(null,this.config).update(a)},this);this.config.sortable&&
(a=a.sortBy(this.comparator));a.each(function(a){this.append(a)},this);this.update_items();return this};h.prototype.append_item=function(a){this.append(a);this.update_items();return this};h.prototype.update_items=function(){_.each(this.widgets,function(a,d){0===d?a.container.addClass("first"):a.container.removeClass("first");d===this.widgets.length-1?a.container.addClass("last"):a.container.removeClass("last")},this)};h.prototype.remove_item=function(){var a=arguments[0];2===arguments.length&&(a=
arguments[1]);this.widgets=_.without(this.widgets,a);a.container.remove();this.update_items()};h.prototype.enable=function(){this.disabled=!1};h.prototype.disable=function(){this.disabled=!0};h.prototype.activate=function(a,d){if(!this.disabled)return this.active=!0,a&&this.container.trigger("body-activated"),this.label_changed(null,d),this.show(),this};h.prototype.show=function(){this.container.show();mp.utility.bind_esc(this.id,function(){this.deactivate(!1)},this)};h.prototype.deactivate=function(a){if(!this.disabled&&
this.active)return this.active=!1,a||this.container.trigger("body-deactivated"),this.hide(),this};h.prototype.hide=function(){this.container.hide();mp.utility.unbind_esc(this.id)};h.prototype.toggle_active=function(a){this.active?this.deactivate(a):this.activate(a)};h.prototype.selected=function(){return _.detect(this.widgets,function(a){return a.selected})};h.prototype.deselect_all=function(a){_.each(this.widgets,function(d){d!==a&&d.deselect()})};h.prototype.select_item=function(a,d){this.deselect_all(a);
a.select(!1);if(!d)this.container.trigger("item-selected",[a,this.prev_item]),this.prev_item=a};h.prototype.select_first=function(a){this.widgets.length&&this.select_item(this.widgets[0],a)};h.prototype.select_last=function(){this.widgets.length&&this.select_item(this.widgets[this.widgets.length-1])};h.prototype.select_next=function(a){var d=this.selected();_.isArray(d)||(d=_.indexOf(this.widgets,d),d<this.widgets.length-1&&this.select_item(this.widgets[d+1],a))};h.prototype.select_previous=function(a){var d=
this.selected();if(d){if(_.isArray(d))return}else d=this.widgets[this.widgets.length-1];d=_.indexOf(this.widgets,d);0<d&&this.select_item(this.widgets[d-1],a)};h.prototype.get_item_by_val=function(a){return _.detect(this.widgets,function(d){if(_.isEqual(d.val(),a))return!0})};_.inherit(f,JSWidget);f.prototype.create=function(a,d){f.superclass.create.call(this,a);this.enabled=!0;this.bindings();this.config=_.extend(this.default_config(),d);this.container.addClass("dropdown_item_widget");return this};
f.prototype.default_config=function(){return{}};f.prototype.bindings=function(){this.container.click(_.bind(this.select,this))};f.prototype.update=function(a){this._set_value(a);this._set_content(a);return this};f.prototype._set_value=function(a){this.value=_.isArray(a)?a[0]:a};f.prototype._set_content=function(a){this.display_value=_.isArray(a)?a[1]:a;this.config.raw_html_item_labels?this.container.html(this.display_value):this.container.text(this.display_value)};f.prototype.title=function(){return this.display_value};
f.prototype.enable=function(){var a=!this.enabled;this.enabled=!0;this.container.removeClass("disabled");return a};f.prototype.disable=function(){var a=this.enabled;this.enabled=!1;this.container.addClass("disabled");return a};f.prototype.select=function(a){if(this.enabled)a&&(!this.selected||this.config.menu)&&this.container.trigger("dropdown-item-selected",this),this.selected=!0,this.container.addClass("selected")};f.prototype.deselect=function(){var a=this.selected;this.selected=!1;this.container.removeClass("selected");
return a};f.prototype.remove=function(){this.deselect();this.container.trigger("item-removed",this)};a.Label=d;a.Body=h;a.Item=f;return{Dropdown:a}});_.namespace("mp.widgets.styled_labels",function(){function a(){this.class_name="rounded_dropdown_label"}function d(){this.class_name="icon_textless_label"}_.inherit(a,mp.widgets.Dropdown.Label);a.prototype.create=function(d,f){this.title=$("<div>").addClass("title");this.arrow=$("<div>").addClass("arrow");a.superclass.create.call(this,d,f);this.container.append(this.title,this.arrow);return this};_.inherit(d,mp.widgets.Dropdown.Label);d.prototype.create=function(a,f){d.superclass.create.call(this,
a,f);this.icon=$("<div>").addClass("icon");this.arrow=$("<div>").addClass("arrow");this.container.append(this.icon,this.arrow);return this};d.prototype._set_content=function(a){this.icon.attr({"class":"icon "+a.value})};return{Rounded:a,IconTextless:d}});_.namespace("mp.widgets.dropdowns",function(){function a(){this.class_name="mp_checkbox_dropdown";this.label_class=d;this.body_class=h}function d(){}function h(){this.item_class=f}function f(){this.class_name="checkbox_dropdown_item"}_.inherit(a,mp.widgets.Dropdown);a.prototype.create=function(){a.superclass.create.apply(this,arguments);this.selected_items=[];this.update_width();return this};a.prototype.bindings=function(){a.superclass.bindings.call(this);this.container.bind("label-activated",_.bind(this.update_width,
this));this.body.container.bind("dropdown-item-deselected",_.bind(function(a,d){this.selected_items=_.without(this.selected_items,d);this.update_label();this.container.trigger("item-deselected",d)},this))};a.prototype.select_values=function(a,d){_.each(a,function(a){this.select_val(a,d)},this)};a.prototype.select_item=function(a,d){if(!a.selected||this.config.menu)this.selected_items.push(a),this.update_label(d),this.body.select_item(a,d)};a.prototype.update_label=function(a){this.config.emulate_select&&
this.label.select(this.selected_items,a);this.update_width()};a.prototype.update=function(a){this.body.fill(a)};a.prototype.update_width=function(){var a=this.label.container.width();this.body.container.css("width","auto");this.body.container.width()<a&&this.body.container.width(a)};a.prototype.default_config=function(){return _.extend(a.superclass.default_config.call(this),{emulate_select:!0})};a.prototype.deactivate=function(d){d&&"dropdown-item-selected"===d.type||a.superclass.deactivate.call(this)};
a.prototype.onchange=function(a){var d=this;this.container.bind("item-selected",function(){a(d.selected_items)});this.container.bind("item-deselected",function(){a(d.selected_items)})};a.prototype._item_selected=function(a,d){this.select_item(d)};_.inherit(d,mp.widgets.Dropdown.Label);d.prototype.select=function(a,d){this.value=_.isArray(a)?_.map(a,function(a){return a.val()}):[];if("string"===typeof a&&!this.default_title)this.default_title=a;this._set_content(a);d||this.container.trigger("label-changed",
this);return this};d.prototype._set_content=function(a){a=!_.isArray(a)||0===a.length?this.default_title:1===a.length?"string"===typeof a[0]?a[0]:a[0].title():a.length+" selected";d.superclass._set_content.call(this,a)};_.inherit(h,mp.widgets.Dropdown.Body);h.prototype.select_item=function(a,d){a.select(!1);d||this.container.trigger("item-selected",a)};_.inherit(f,mp.widgets.Dropdown.Item);f.prototype.default_config=function(){return{}};f.prototype.create=function(a,d){f.superclass.create.call(this,
a,d);this.content=$("<span>");this.container.append(this.content);return this};f.prototype._set_content=function(a){this.display_value=_.isArray(a)?a[1]:a;this.config.raw_html_item_labels?this.content.html(this.display_value):this.content.text(this.display_value);this.content.attr("title",this.title())};f.prototype.title=function(){return this.display_value};f.prototype.select=function(a){this.selected?this.deselect():f.superclass.select.call(this,a)};f.prototype.deselect=function(a){f.superclass.deselect.call(this);
a||this.container.trigger("dropdown-item-deselected",this)};a.Label=d;a.Body=h;a.Item=f;return{Checkbox:a}});_.namespace("mp.widgets.dropdowns",function(){function a(){this.class_name="rounded_dropdown";this.label_class=mp.widgets.styled_labels.Rounded;this.body_class=d}function d(){this.class_name="rounded_dropdown_body";this.item_class=h}function h(){this.class_name="rounded_dropdown_item"}_.inherit(a,mp.widgets.Dropdown);a.prototype.default_config=function(){return _.extend(a.superclass.default_config.call(this),{emulate_select:!0})};_.inherit(d,mp.widgets.Dropdown.Body);d.prototype.label_changed=function(a,
d){this.container.css("min-width",d.container.outerWidth()-2)};_.inherit(h,mp.widgets.Dropdown.Item);h.prototype.create=function(){h.superclass.create.apply(this,arguments);if(this.config.type_icons){this.icon_container=$("<div>").addClass("icon_container");this.content=$("<div>").addClass("word_container");this.container.append(this.icon_container);if(this.config.second_type_icon)this.second_icon_container=$("<div>").addClass("second_icon_container"),this.container.append(this.second_icon_container);
this.container.append(this.content)}else this.content=this.container;return this};h.prototype.default_config=function(){return{type_icons:!1}};h.prototype._set_content=function(a){this.display_value=_.isArray(a)?a[1]:a;this.content.text(this.display_value).attr("title",this.display_value);if(this.config.type_icons)3<=a.length?(this.icon_container.addClass(a[2]),this.type=a[2]):(this.icon_container.addClass("unknown"),this.type="unknown")};a.Label=mp.widgets.styled_labels.Rounded;a.Body=d;a.Item=h;
return{Rounded:a}});_.namespace("mp.widgets.dropdowns",function(a){function d(){this.class_name="rounded_checkbox_dropdown";this.label_class=h;this.body_class=f}function h(){this.class_name="rounded_checkbox_label"}function f(){this.class_name="rounded_checkbox_body";this.item_class=e}function e(){this.class_name="rounded_checkbox_item"}_.inherit(d,a.Checkbox);d.prototype.default_config=function(){return _.extend(d.superclass.default_config.call(this),{filterable:!0})};d.prototype.bindings=function(){d.superclass.bindings.apply(this,
arguments);this.body.container.delegate(".search_box","keydown",_.bind(function(a){switch(a.which){case 27:this.label.item&&"string"!==typeof this.label.item&&this.body.select_item(this.label.item,!0);this.deactivate();break;case 9:this.select_if_one_visible();break;case 13:this.body.limited?this.select_string():this.select_if_one_visible()}},this))};d.prototype.select_if_one_visible=function(){if(1===this.body.visible().length){var a=this.body.visible()[0];a.selected?a.deselect():this.select_item(a);
this.body.deactivate()}};d.prototype.select_string=function(){this.select_item(this.body.select_string())};_.inherit(h,a.Checkbox.Label);h.prototype.create=function(a,b){this.title=$("<div>").addClass("title");this.arrow=$("<div>").addClass("arrow");h.superclass.create.call(this,a,b);this.container.append(this.title,this.arrow);return this};h.prototype.styles=a.Rounded.Label.prototype.styles;_.inherit(f,a.Checkbox.Body);f.prototype.styles=a.Rounded.Body.prototype.styles;f.prototype.create=function(a,
b){f.superclass.create.call(this,a,b);this.config.collapse||this.container.css("min-width",this.config.min_width+38);var c=$("<div>").addClass("search_box_container");this.search=$("<input />").addClass("search_box");this.content=$("<div>").addClass("content");!0===this.config.filterable&&this.container.append(c.append(this.search));this.container.append(this.content);this.appendTo=this.content;return this};f.prototype.bindings=function(){f.superclass.bindings.apply(this,arguments);this.container.delegate(".search_box",
"keyup",_.bind(this.filter,this))};f.prototype.visible=function(){var a=[];_.each(this.widgets,function(b){b.container.is(":visible")&&a.push(b)});return a};var j=function(a){var b=a.toLowerCase();return function(c){c=c.toLowerCase();return 1===a.length&&_.startsWith(c,b)||1!==a.length&&_.includes(c,b)}};f.prototype.filter=function(a){if(a&&_.include([9,13,38,40],a.which))a.preventDefault();else{var a=this.search.val(),b=j(a);_.each(this.widgets,function(a){b(a.display_value)?a.container.show():a.container.hide()})}};
f.prototype.activate=function(){f.superclass.activate.apply(this,arguments);this.scroll_to_selected();this.search.attr("value","").focus();this.filter(void 0,!0);return this};f.prototype.scroll_to_selected=function(){var a=this.selected();a&&!_.isArray(a)&&this.appendTo.scrollTo(a.container,{offset:{top:-10*a.container.height()}})};f.prototype.select_item=function(a,b){f.superclass.select_item.apply(this,arguments);this.scroll_to_selected()};f.prototype.select_string=function(){var a,b=this.search.val();
_.each(this.widgets,function(c){c.display_value===b&&(a=c)});if(!a){a=(new this.item_class).create(null,this.config).update(b);var c=_.sortedIndex(this.widgets,a,this.comparator);this.insert(a,c)}return a};f.prototype.fill=function(a,b){this.limited=b||!1;return f.superclass.fill.call(this,a)};d.filter_predicate_from_query=j;_.inherit(e,a.Checkbox.Item);d.Label=h;d.Body=f;d.Item=e;return{RoundedCheckbox:d}});mp.cookie={};mp.cookie.set=function(a,d,h,f){var e=new Date,f=f?this._parse_domain(document.location.hostname):"",a=a+"="+escape(d);e.setDate(e.getDate()+h);a+=null===h?"":";expires="+e.toGMTString();document.cookie=a+"; path=/"+(f?";domain=."+f:"")};mp.cookie.remove=function(a,d){mp.cookie.set(a,"",-1,d)};
mp.cookie.get=function(a){if(0<document.cookie.length){var d=document.cookie.indexOf(a+"=");if(-1!=d){d=d+a.length+1;a=document.cookie.indexOf(";",d);if(-1==a)a=document.cookie.length;return unescape(document.cookie.substring(d,a))}}return""};mp.cookie.exists=function(a){return 0<document.cookie.length&&-1!=document.cookie.indexOf(a+"=")?!0:!1};mp.cookie._parse_domain=function(a){return(a=a.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i))?a[0]:""};mp.modules={};mp.modules.loadJS=function(a){var d=document.createElement("script");d.setAttribute("type","text/javascript");d.setAttribute("src",a);mp.modules.appendToHead(d)};mp.modules.loadCSS=function(a){var d=document.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("type","text/css");d.setAttribute("href",a);mp.modules.appendToHead(d)};mp.modules.appendToHead=function(a){document.getElementsByTagName("head")[0].appendChild(a)};/*
: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/.
 @website: http://www.datejs.com/
*/
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),abbreviatedDayNames:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),shortestDayNames:"Su,Mo,Tu,We,Th,Fr,Sa".split(","),firstLetterDayNames:"S,M,T,W,T,F,S".split(","),monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),abbreviatedMonthNames:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),
amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,
may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,
millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",
offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};
(function(){var a=Date,d=a.prototype,h=a.CultureInfo,f=function(a,c){c||(c=2);return("000"+a).slice(-1*c)};d.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};d.setTimeToNow=function(){var a=new Date;this.setHours(a.getHours());this.setMinutes(a.getMinutes());this.setSeconds(a.getSeconds());this.setMilliseconds(a.getMilliseconds());return this};a.today=function(){return(new Date).clearTime()};a.compare=function(a,c){if(isNaN(a)||isNaN(c))throw Error(a+
" - "+c);if(a instanceof Date&&c instanceof Date)return a<c?-1:a>c?1:0;throw new TypeError(a+" - "+c);};a.equals=function(a,c){return 0===a.compareTo(c)};a.getDayNumberFromName=function(a){for(var c=h.dayNames,i=h.abbreviatedDayNames,d=h.shortestDayNames,a=a.toLowerCase(),e=0;e<c.length;e++)if(c[e].toLowerCase()==a||i[e].toLowerCase()==a||d[e].toLowerCase()==a)return e;return-1};a.getMonthNumberFromName=function(a){for(var c=h.monthNames,i=h.abbreviatedMonthNames,a=a.toLowerCase(),d=0;d<c.length;d++)if(c[d].toLowerCase()==
a||i[d].toLowerCase()==a)return d;return-1};a.isLeapYear=function(a){return 0===a%4&&0!==a%100||0===a%400};a.getDaysInMonth=function(b,c){return[31,a.isLeapYear(b)?29:28,31,30,31,30,31,31,30,31,30,31][c]};a.getTimezoneAbbreviation=function(a){for(var c=h.timezones,d=0;d<c.length;d++)if(c[d].offset===a)return c[d].name;return null};a.getTimezoneOffset=function(a){for(var c=h.timezones,d=0;d<c.length;d++)if(c[d].name===a.toUpperCase())return c[d].offset;return null};d.clone=function(){return new Date(this.getTime())};
d.compareTo=function(a){return Date.compare(this,a)};d.equals=function(a){return Date.equals(this,a||new Date)};d.between=function(a,c){return this.getTime()>=a.getTime()&&this.getTime()<=c.getTime()};d.isAfter=function(a){return 1===this.compareTo(a||new Date)};d.isBefore=function(a){return-1===this.compareTo(a||new Date)};d.isToday=function(){return this.isSameDay(new Date)};d.isSameDay=function(a){return this.clone().clearTime().equals(a.clone().clearTime())};d.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+
a);return this};d.addSeconds=function(a){return this.addMilliseconds(1E3*a)};d.addMinutes=function(a){return this.addMilliseconds(6E4*a)};d.addHours=function(a){return this.addMilliseconds(36E5*a)};d.addDays=function(a){this.setDate(this.getDate()+a);return this};d.addWeeks=function(a){return this.addDays(7*a)};d.addMonths=function(b){var c=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+b);this.setDate(Math.min(c,a.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};d.addYears=
function(a){return this.addMonths(12*a)};d.add=function(a){if("number"==typeof a)return this._orient=a,this;a.milliseconds&&this.addMilliseconds(a.milliseconds);a.seconds&&this.addSeconds(a.seconds);a.minutes&&this.addMinutes(a.minutes);a.hours&&this.addHours(a.hours);a.weeks&&this.addWeeks(a.weeks);a.months&&this.addMonths(a.months);a.years&&this.addYears(a.years);a.days&&this.addDays(a.days);return this};var e,j,l;d.getWeek=function(){var a,c,d,f,h;e=!e?this.getFullYear():e;j=!j?this.getMonth()+
1:j;l=!l?this.getDate():l;2>=j?(a=e-1,c=(a/4|0)-(a/100|0)+(a/400|0),d=c-(((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0)),f=0,h=l-1+31*(j-1)):(a=e,c=(a/4|0)-(a/100|0)+(a/400|0),d=c-(((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0)),f=d+1,h=l+(153*(j-3)+2)/5+58+d);a=(a+c)%7;f=h+3-(h+a-f)%7|0;e=j=l=null;return 0>f?53-((a-d)/5|0):f>364+d?1:(f/7|0)+1};d.getISOWeek=function(){e=this.getUTCFullYear();j=this.getUTCMonth()+1;l=this.getUTCDate();return f(this.getWeek())};d.setWeek=function(a){return this.moveToDayOfWeek(1).addWeeks(a-
this.getWeek())};a._validate=function(a,c,d,e){if("undefined"==typeof a)return!1;if("number"!=typeof a)throw new TypeError(a+" is not a Number.");if(a<c||a>d)throw new RangeError(a+" is not a valid value for "+e+".");return!0};a.validateMillisecond=function(b){return a._validate(b,0,999,"millisecond")};a.validateSecond=function(b){return a._validate(b,0,59,"second")};a.validateMinute=function(b){return a._validate(b,0,59,"minute")};a.validateHour=function(b){return a._validate(b,0,23,"hour")};a.validateDay=
function(b,c,d){return a._validate(b,1,a.getDaysInMonth(c,d),"day")};a.validateMonth=function(b){return a._validate(b,0,11,"month")};a.validateYear=function(b){return a._validate(b,0,9999,"year")};d.set=function(b){a.validateMillisecond(b.millisecond)&&this.addMilliseconds(b.millisecond-this.getMilliseconds());a.validateSecond(b.second)&&this.addSeconds(b.second-this.getSeconds());a.validateMinute(b.minute)&&this.addMinutes(b.minute-this.getMinutes());a.validateHour(b.hour)&&this.addHours(b.hour-
this.getHours());a.validateMonth(b.month)&&this.addMonths(b.month-this.getMonth());a.validateYear(b.year)&&this.addYears(b.year-this.getFullYear());a.validateDay(b.day,this.getFullYear(),this.getMonth())&&this.addDays(b.day-this.getDate());b.timezone&&this.setTimezone(b.timezone);b.timezoneOffset&&this.setTimezoneOffset(b.timezoneOffset);b.week&&a._validate(b.week,0,53,"week")&&this.setWeek(b.week);return this};d.moveToFirstDayOfMonth=function(){return this.set({day:1})};d.moveToLastDayOfMonth=function(){return this.set({day:a.getDaysInMonth(this.getFullYear(),
this.getMonth())})};d.moveToNthOccurrence=function(a,c){var d=0;if(0<c)d=c-1;else if(-1===c)return this.moveToLastDayOfMonth(),this.getDay()!==a&&this.moveToDayOfWeek(a,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(a,1).addWeeks(d)};d.moveToDayOfWeek=function(a,c){var d=(a-this.getDay()+7*(c||1))%7;return this.addDays(0===d?d+7*(c||1):d)};d.moveToMonth=function(a,c){var d=(a-this.getMonth()+12*(c||1))%12;return this.addMonths(0===d?d+12*(c||1):d)};d.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-
new Date(this.getFullYear(),0,1))/864E5)+1};d.getTimezone=function(){return a.getTimezoneAbbreviation(this.getUTCOffset())};d.setTimezoneOffset=function(a){var c=this.getTimezoneOffset();return this.addMinutes(-6*Number(a)/10-c)};d.setTimezone=function(b){return this.setTimezoneOffset(a.getTimezoneOffset(b))};d.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};d.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&
(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()};d.getUTCOffset=function(){var a=-10*this.getTimezoneOffset()/6;if(0>a)return a=(a-1E4).toString(),a.charAt(0)+a.substr(2);a=(a+1E4).toString();return"+"+a.substr(1)};d.getElapsed=function(a){return(a||new Date)-this};if(!d.toISOString)d.toISOString=function(){function a(b){return 10>b?"0"+b:b}return'"'+this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+
":"+a(this.getUTCSeconds())+'Z"'};if("undefined"==typeof d._toString)d._toString=d.toString;d.toString=function(a){var c=this;if(a&&1==a.length){var d=h.formatPatterns;c.t=c.toString;switch(a){case "d":return c.t(d.shortDate);case "D":return c.t(d.longDate);case "F":return c.t(d.fullDateTime);case "m":return c.t(d.monthDay);case "r":return c.t(d.rfc1123);case "s":return c.t(d.sortableDateTime);case "t":return c.t(d.shortTime);case "T":return c.t(d.longTime);case "u":return c.t(d.universalSortableDateTime);
case "y":return c.t(d.yearMonth)}}var e=function(a){switch(1*a){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return a?a.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(a){if("\\"===a.charAt(0))return a.replace("\\","");c.h=c.getHours;switch(a){case "hh":return f(13>c.h()?0===c.h()?12:c.h():c.h()-12);case "h":return 13>c.h()?0===c.h()?12:c.h():c.h()-12;case "HH":return f(c.h());case "H":return c.h();case "mm":return f(c.getMinutes());
case "m":return c.getMinutes();case "ss":return f(c.getSeconds());case "s":return c.getSeconds();case "yyyy":return f(c.getFullYear(),4);case "yy":return f(c.getFullYear());case "dddd":return h.dayNames[c.getDay()];case "ddd":return h.abbreviatedDayNames[c.getDay()];case "dd":return f(c.getDate());case "d":return c.getDate();case "MMMM":return h.monthNames[c.getMonth()];case "MMM":return h.abbreviatedMonthNames[c.getMonth()];case "MM":return f(c.getMonth()+1);case "M":return c.getMonth()+1;case "t":return 12>
c.h()?h.amDesignator.substring(0,1):h.pmDesignator.substring(0,1);case "tt":return 12>c.h()?h.amDesignator:h.pmDesignator;case "S":return e(c.getDate());default:return a}}):this._toString()}})();
(function(){var a=Date,d=a.prototype,h=a.CultureInfo,f=Number.prototype;d._orient=1;d._nth=null;d._is=!1;d._same=!1;d._isSecond=!1;f._dateElement="day";d.next=function(){this._orient=1;return this};a.next=function(){return a.today().next()};d.last=d.prev=d.previous=function(){this._orient=-1;return this};a.last=a.prev=a.previous=function(){return a.today().last()};d.is=function(){this._is=!0;return this};d.same=function(){this._same=!0;this._isSecond=!1;return this};d.today=function(){return this.same().day()};
d.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1};d.at=function(b){return"string"===typeof b?a.parse(this.toString("d")+" "+b):this.set(b)};f.fromNow=f.after=function(a){var b={};b[this._dateElement]=this;return(!a?new Date:a.clone()).add(b)};f.ago=f.before=function(a){var b={};b[this._dateElement]=-1*this;return(!a?new Date:a.clone()).add(b)};var e="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),j="january february march april may june july august september october november december".split(/\s/),
l="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),b="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),c="final first second third fourth fifth".split(/\s/);d.toObject=function(){for(var a={},c=0;c<l.length;c++)a[l[c].toLowerCase()]=this["get"+b[c]]();return a};a.fromObject=function(a){a.week=null;return Date.today().set(a)};for(var i=function(b){return function(){if(this._is)return this._is=!1,this.getDay()==b;if(null!==this._nth){this._isSecond&&this.addSeconds(-1*
this._orient);this._isSecond=!1;var c=this._nth;this._nth=null;var d=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(b,c);if(this>d)throw new RangeError(a.getDayName(b)+" does not occur "+c+" times in the month of "+a.getMonthName(d.getMonth())+" "+d.getFullYear()+".");return this}return this.moveToDayOfWeek(b,this._orient)}},o=function(b){return function(){var c=a.today(),d=b-c.getDay();0===b&&1===h.firstDayOfWeek&&0!==c.getDay()&&(d+=7);return c.addDays(d)}},p=0;p<e.length;p++)a[e[p].toUpperCase()]=
a[e[p].toUpperCase().substring(0,3)]=p,a[e[p]]=a[e[p].substring(0,3)]=o(p),d[e[p]]=d[e[p].substring(0,3)]=i(p);e=function(a){return function(){return this._is?(this._is=!1,this.getMonth()===a):this.moveToMonth(a,this._orient)}};i=function(b){return function(){return a.today().set({month:b,day:1})}};for(o=0;o<j.length;o++)a[j[o].toUpperCase()]=a[j[o].toUpperCase().substring(0,3)]=o,a[j[o]]=a[j[o].substring(0,3)]=i(o),d[j[o]]=d[j[o].substring(0,3)]=e(o);e=function(a){return function(b){if(this._isSecond)return this._isSecond=
!1,this;if(this._same){this._same=this._is=!1;for(var c=this.toObject(),b=(b||new Date).toObject(),d="",i=a.toLowerCase(),e=l.length-1;-1<e;e--){d=l[e].toLowerCase();if(c[d]!=b[d])return!1;if(i==d)break}return!0}"s"!=a.substring(a.length-1)&&(a+="s");return this["add"+a](this._orient)}};i=function(a){return function(){this._dateElement=a;return this}};for(o=0;o<l.length;o++)j=l[o].toLowerCase(),d[j]=d[j+"s"]=e(l[o]),f[j]=f[j+"s"]=i(j);d._ss=e("Second");f=function(a){return function(b){if(this._same)return this._ss(b);
if(b||0===b)return this.moveToNthOccurrence(b,a);this._nth=a;return 2===a&&(void 0===b||null===b)?(this._isSecond=!0,this.addSeconds(this._orient)):this}};for(j=0;j<c.length;j++)d[c[j]]=0===j?f(-1):f(j)})();
(function(){Date.Parsing={Exception:function(a){this.message="Parse error at '"+a.substring(0,10)+" ...'"}};for(var a=Date.Parsing,d=a.Operators={rtoken:function(d){return function(e){var b=e.match(d);if(b)return[b[0],e.substring(b[0].length)];throw new a.Exception(e);}},token:function(){return function(a){return d.rtoken(RegExp("^s*"+a+"s*"))(a)}},stoken:function(a){return d.rtoken(RegExp("^"+a))},until:function(a){return function(d){for(var b=[],c=null;d.length;){try{c=a.call(this,d)}catch(i){b.push(c[0]);
d=c[1];continue}break}return[b,d]}},many:function(a){return function(d){for(var b=[],c=null;d.length;){try{c=a.call(this,d)}catch(i){break}b.push(c[0]);d=c[1]}return[b,d]}},optional:function(a){return function(d){var b=null;try{b=a.call(this,d)}catch(c){return[null,d]}return[b[0],b[1]]}},not:function(d){return function(e){try{d.call(this,e)}catch(b){return[null,e]}throw new a.Exception(e);}},ignore:function(a){return a?function(d){var b=null,b=a.call(this,d);return[null,b[1]]}:null},product:function(){for(var a=
arguments[0],e=Array.prototype.slice.call(arguments,1),b=[],c=0;c<a.length;c++)b.push(d.each(a[c],e));return b},cache:function(d){var e={},b=null;return function(c){try{b=e[c]=e[c]||d.call(this,c)}catch(i){b=e[c]=i}if(b instanceof a.Exception)throw b;return b}},any:function(){var d=arguments;return function(e){for(var b=null,c=0;c<d.length;c++)if(null!=d[c]){try{b=d[c].call(this,e)}catch(i){b=null}if(b)return b}throw new a.Exception(e);}},each:function(){var d=arguments;return function(e){for(var b=
[],c=null,i=0;i<d.length;i++)if(null!=d[i]){try{c=d[i].call(this,e)}catch(f){throw new a.Exception(e);}b.push(c[0]);e=c[1]}return[b,e]}},all:function(){var a=a;return a.each(a.optional(arguments))},sequence:function(e,f,b){f=f||d.rtoken(/^\s*/);b=b||null;return 1==e.length?e[0]:function(c){for(var d=null,o=null,h=[],k=0;k<e.length;k++){try{d=e[k].call(this,c)}catch(n){break}h.push(d[0]);try{o=f.call(this,d[1])}catch(q){o=null;break}c=o[1]}if(!d)throw new a.Exception(c);if(o)throw new a.Exception(o[1]);
if(b)try{d=b.call(this,d[1])}catch(m){throw new a.Exception(d[1]);}return[h,d?d[1]:c]}},between:function(a,e,b){var b=b||a,c=d.each(d.ignore(a),e,d.ignore(b));return function(a){a=c.call(this,a);return[[a[0][0],r[0][2]],a[1]]}},list:function(a,e,b){e=e||d.rtoken(/^\s*/);b=b||null;return a instanceof Array?d.each(d.product(a.slice(0,-1),d.ignore(e)),a.slice(-1),d.ignore(b)):d.each(d.many(d.each(a,d.ignore(e))),px,d.ignore(b))},set:function(e,f,b){f=f||d.rtoken(/^\s*/);b=b||null;return function(c){for(var i=
null,o=i=null,h=null,k=[[],c],n=!1,q=0;q<e.length;q++){i=o=null;n=1==e.length;try{i=e[q].call(this,c)}catch(m){continue}h=[[i[0]],i[1]];if(0<i[1].length&&!n)try{o=f.call(this,i[1])}catch(v){n=!0}else n=!0;!n&&0===o[1].length&&(n=!0);if(!n){i=[];for(n=0;n<e.length;n++)q!=n&&i.push(e[n]);i=d.set(i,f).call(this,o[1]);0<i[0].length&&(h[0]=h[0].concat(i[0]),h[1]=i[1])}h[1].length<k[1].length&&(k=h);if(0===k[1].length)break}if(0===k[0].length)return k;if(b){try{o=b.call(this,k[1])}catch(B){throw new a.Exception(k[1]);
}k[1]=o[1]}return k}},forward:function(a,d){return function(b){return a[d].call(this,b)}},replace:function(a,d){return function(b){b=a.call(this,b);return[d,b[1]]}},process:function(a,d){return function(b){b=a.call(this,b);return[d.call(this,b[0]),b[1]]}},min:function(d,e){return function(b){var c=e.call(this,b);if(c[0].length<d)throw new a.Exception(b);return c}}},h=function(a){return function(){var d=null,b=[];1<arguments.length?d=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&
(d=arguments[0]);if(d){var c=d.shift();if(c.length)return d.unshift(c[0]),b.push(a.apply(null,d)),d.shift(),b}else return a.apply(null,arguments)}},f="optional not ignore cache".split(/\s/),e=0;e<f.length;e++)d[f[e]]=h(d[f[e]]);h=function(a){return function(){return arguments[0]instanceof Array?a.apply(null,arguments[0]):a.apply(null,arguments)}};f="each any all".split(/\s/);for(e=0;e<f.length;e++)d[f[e]]=h(d[f[e]])})();
(function(){var a=Date,d=a.CultureInfo,h=function(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof Array?b=b.concat(h(a[c])):a[c]&&b.push(a[c]);return b};a.Grammar={};a.Translator={hour:function(a){return function(){this.hour=Number(a)}},minute:function(a){return function(){this.minute=Number(a)}},second:function(a){return function(){this.second=Number(a)}},meridian:function(a){return function(){this.meridian=a.slice(0,1).toLowerCase()}},timezone:function(a){return function(){var b=a.replace(/[^\d\+\-]/g,
"");b.length?this.timezoneOffset=Number(b):this.timezone=a.toLowerCase()}},day:function(a){var b=a[0];return function(){this.day=Number(b.match(/\d+/)[0])}},month:function(a){return function(){this.month=3==a.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(a)/4:Number(a)-1}},year:function(a){return function(){var b=Number(a);this.year=2<a.length?b:b+(b+2E3<d.twoDigitYearMax?2E3:1900)}},rday:function(a){return function(){switch(a){case "yesterday":this.days=-1;break;case "tomorrow":this.days=
1;break;case "today":this.days=0;break;case "now":this.days=0,this.now=!0}}},finishExact:function(b){for(var b=b instanceof Array?b:[b],c=0;c<b.length;c++)b[c]&&b[c].call(this);b=new Date;if((this.hour||this.minute)&&!this.month&&!this.year&&!this.day)this.day=b.getDate();if(!this.year)this.year=b.getFullYear();if(!this.month&&0!==this.month)this.month=b.getMonth();if(!this.day)this.day=1;if(!this.hour)this.hour=0;if(!this.minute)this.minute=0;if(!this.second)this.second=0;if(this.meridian&&this.hour)if("p"==
this.meridian&&12>this.hour)this.hour+=12;else if("a"==this.meridian&&12==this.hour)this.hour=0;if(this.day>a.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");b=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);this.timezone?b.set({timezone:this.timezone}):this.timezoneOffset&&b.set({timezoneOffset:this.timezoneOffset});return b},finish:function(b){b=b instanceof Array?h(b):[b];if(0===b.length)return null;for(var c=0;c<b.length;c++)"function"==
typeof b[c]&&b[c].call(this);b=a.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(b=new Date);var c=!!(this.days&&null!==this.days||this.orient||this.operator),d,e,f;f="past"==this.orient||"subtract"==this.operator?-1:1;!this.now&&-1!="hour minute second".indexOf(this.unit)&&b.setTimeToNow();if((this.month||0===this.month)&&-1!="year day hour minute second".indexOf(this.unit))this.value=this.month+1,this.month=null,c=!0;if(!c&&this.weekday&&!this.day&&!this.days){d=Date[this.weekday]();
this.day=d.getDate();if(!this.month)this.month=d.getMonth();this.year=d.getFullYear()}if(c&&this.weekday&&"month"!=this.unit)this.unit="day",d=a.getDayNumberFromName(this.weekday)-b.getDay(),e=7,this.days=d?(d+f*e)%e:f*e;if(this.month&&"day"==this.unit&&this.operator)this.value=this.month+1,this.month=null;if(null!=this.value&&null!=this.month&&null!=this.year)this.day=1*this.value;if(this.month&&!this.day&&this.value&&(b.set({day:1*this.value}),!c))this.day=1*this.value;if(!this.month&&this.value&&
"month"==this.unit&&!this.now)this.month=this.value,c=!0;if(c&&(this.month||0===this.month)&&"year"!=this.unit)this.unit="month",d=this.month-b.getMonth(),e=12,this.months=d?(d+f*e)%e:f*e,this.month=null;if(!this.unit)this.unit="day";if(!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"])this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*f;else if(null==this[this.unit+"s"]||null!=this.operator){if(!this.value)this.value=
1;this[this.unit+"s"]=this.value*f}if(this.meridian&&this.hour)if("p"==this.meridian&&12>this.hour)this.hour+=12;else if("a"==this.meridian&&12==this.hour)this.hour=0;if(this.weekday&&!this.day&&!this.days&&(d=Date[this.weekday](),this.day=d.getDate(),d.getMonth()!==b.getMonth()))this.month=d.getMonth();if((this.month||0===this.month)&&!this.day)this.day=1;if(!this.orient&&!this.operator&&"week"==this.unit&&this.value&&!this.day&&!this.month)return Date.today().setWeek(this.value);if(c&&this.timezone&&
this.day&&this.days)this.day=this.days;return c?b.add(this):b.set(this)}};var f=a.Parsing.Operators,e=a.Grammar,j=a.Translator,l;e.datePartDelimiter=f.rtoken(/^([\s\-\.\,\/\x27]+)/);e.timePartDelimiter=f.stoken(":");e.whiteSpace=f.rtoken(/^\s*/);e.generalDelimiter=f.rtoken(/^(([\s\,]|at|@|on)+)/);var b={};e.ctoken=function(a){var c=b[a];if(!c){for(var c=d.regexPatterns,e=a.split(/\s+/),k=[],h=0;h<e.length;h++)k.push(f.replace(f.rtoken(c[e[h]]),e[h]));c=b[a]=f.any.apply(null,k)}return c};e.ctoken2=
function(a){return f.rtoken(d.regexPatterns[a])};e.h=f.cache(f.process(f.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),j.hour));e.hh=f.cache(f.process(f.rtoken(/^(0[0-9]|1[0-2])/),j.hour));e.H=f.cache(f.process(f.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),j.hour));e.HH=f.cache(f.process(f.rtoken(/^([0-1][0-9]|2[0-3])/),j.hour));e.m=f.cache(f.process(f.rtoken(/^([0-5][0-9]|[0-9])/),j.minute));e.mm=f.cache(f.process(f.rtoken(/^[0-5][0-9]/),j.minute));e.s=f.cache(f.process(f.rtoken(/^([0-5][0-9]|[0-9])/),j.second));e.ss=
f.cache(f.process(f.rtoken(/^[0-5][0-9]/),j.second));e.hms=f.cache(f.sequence([e.H,e.m,e.s],e.timePartDelimiter));e.t=f.cache(f.process(e.ctoken2("shortMeridian"),j.meridian));e.tt=f.cache(f.process(e.ctoken2("longMeridian"),j.meridian));e.z=f.cache(f.process(f.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),j.timezone));e.zz=f.cache(f.process(f.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),j.timezone));e.zzz=f.cache(f.process(e.ctoken2("timezone"),j.timezone));e.timeSuffix=f.each(f.ignore(e.whiteSpace),
f.set([e.tt,e.zzz]));e.time=f.each(f.optional(f.ignore(f.stoken("T"))),e.hms,e.timeSuffix);e.d=f.cache(f.process(f.each(f.rtoken(/^([0-2]\d|3[0-1]|\d)/),f.optional(e.ctoken2("ordinalSuffix"))),j.day));e.dd=f.cache(f.process(f.each(f.rtoken(/^([0-2]\d|3[0-1])/),f.optional(e.ctoken2("ordinalSuffix"))),j.day));e.ddd=e.dddd=f.cache(f.process(e.ctoken("sun mon tue wed thu fri sat"),function(a){return function(){this.weekday=a}}));e.M=f.cache(f.process(f.rtoken(/^(1[0-2]|0\d|\d)/),j.month));e.MM=f.cache(f.process(f.rtoken(/^(1[0-2]|0\d)/),
j.month));e.MMM=e.MMMM=f.cache(f.process(e.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),j.month));e.y=f.cache(f.process(f.rtoken(/^(\d\d?)/),j.year));e.yy=f.cache(f.process(f.rtoken(/^(\d\d)/),j.year));e.yyy=f.cache(f.process(f.rtoken(/^(\d\d?\d?\d?)/),j.year));e.yyyy=f.cache(f.process(f.rtoken(/^(\d\d\d\d)/),j.year));l=function(){return f.each(f.any.apply(null,arguments),f.not(e.ctoken2("timeContext")))};e.day=l(e.d,e.dd);e.month=l(e.M,e.MMM);e.year=l(e.yyyy,e.yy);e.orientation=f.process(e.ctoken("past future"),
function(a){return function(){this.orient=a}});e.operator=f.process(e.ctoken("add subtract"),function(a){return function(){this.operator=a}});e.rday=f.process(e.ctoken("yesterday tomorrow today now"),j.rday);e.unit=f.process(e.ctoken("second minute hour day week month year"),function(a){return function(){this.unit=a}});e.value=f.process(f.rtoken(/^\d\d?(st|nd|rd|th)?/),function(a){return function(){this.value=a.replace(/\D/g,"")}});e.expression=f.set([e.rday,e.operator,e.value,e.unit,e.orientation,
e.ddd,e.MMM]);l=function(){return f.set(arguments,e.datePartDelimiter)};e.mdy=l(e.ddd,e.month,e.day,e.year);e.ymd=l(e.ddd,e.year,e.month,e.day);e.dmy=l(e.ddd,e.day,e.month,e.year);e.date=function(a){return(e[d.dateElementOrder]||e.mdy).call(this,a)};e.format=f.process(f.many(f.any(f.process(f.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(b){if(e[b])return e[b];throw a.Parsing.Exception(b);}),f.process(f.rtoken(/^[^dMyhHmstz]+/),function(a){return f.ignore(f.stoken(a))}))),
function(a){return f.process(f.each.apply(null,a),j.finishExact)});var c={};e.formats=function(a){if(a instanceof Array){for(var b=[],d=0;d<a.length;d++)b.push(c[a[d]]=c[a[d]]||e.format(a[d])[0]);return f.any.apply(null,b)}return c[a]=c[a]||e.format(a)[0]};e._formats=e.formats('"yyyy-MM-ddTHH:mm:ssZ";yyyy-MM-ddTHH:mm:ssZ;yyyy-MM-ddTHH:mm:ssz;yyyy-MM-ddTHH:mm:ss;yyyy-MM-ddTHH:mmZ;yyyy-MM-ddTHH:mmz;yyyy-MM-ddTHH:mm;ddd, MMM dd, yyyy H:mm:ss tt;ddd MMM d yyyy HH:mm:ss zzz;MMddyyyy;ddMMyyyy;Mddyyyy;ddMyyyy;Mdyyyy;dMyyyy;yyyy;Mdyy;dMyy;d'.split(";"));
e._start=f.process(f.set([e.date,e.time,e.expression],e.generalDelimiter,e.whiteSpace),j.finish);e.start=function(a){try{var b=e._formats.call({},a);if(0===b[1].length)return b}catch(c){}return e._start.call({},a)};a._parse=a.parse;a.parse=function(b){var c=null;if(!b)return null;if(b instanceof Date)return b;try{c=a.Grammar.start.call({},b.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(d){return null}return 0===c[1].length?c[0]:null};a.getParseFunction=function(b){var c=a.Grammar.formats(b);return function(a){var b=
null;try{b=c.call({},a)}catch(d){return null}return 0===b[1].length?b[0]:null}};a.parseExact=function(b,c){return a.getParseFunction(c)(b)}})();_.namespace("mp.utility",function(a){a.country_codes={BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint-Barth\u00e9lemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",JO:"Hashemite Kingdom of Jordan",WS:"Samoa",BQ:"Bonaire, Sint Eustatius, and Saba",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",BZ:"Belize","":"",RU:"Russia",RW:"Rwanda",TO:"Tonga",TL:"East Timor",
RE:"R\u00e9union",LU:"Luxembourg",LR:"Liberia",RO:"Romania",TK:"Tokelau",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",BW:"Botswana",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",
HN:"Honduras",CR:"Costa Rica",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestine",PW:"Palau",PT:"Portugal",KR:"Republic of Korea",PY:"Paraguay",AI:"Anguilla",SH:"Saint Helena",PF:"French Polynesia",PG:"Papua New Guinea",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn Islands",A2:"Satellite Provider",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EE:"Estonia",NA:"Namibia",EG:"Egypt",ZA:"South Africa",EC:"Ecuador",IT:"Italy",AO:"Angola",SB:"Solomon Islands",ET:"Ethiopia",ZW:"Zimbabwe",KY:"Cayman Islands",
ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Republic of Moldova",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar [Burma]",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",UA:"Ukraine",MX:"Mexico",MZ:"Mozambique",FR:"France",AW:"Aruba",A1:"Anonymous Proxy",AX:"\u00c5land",RS:"Serbia",
FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",SO:"Somalia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",XK:"Kosovo",CI:"Ivory Coast",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos [Keeling] Islands",CA:"Canada",CG:"Republic of the Congo",CF:"Central African Republic",CD:"Congo",
CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",UY:"Uruguay",CW:"Cura\u00e7ao",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syria",SX:"Sint Maarten",KG:"Kyrgyzstan",KE:"Kenya",SS:"South Sudan",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"S\u00e3o Tom\u00e9 and Pr\u00edncipe",SK:"Slovak Republic",SJ:"Svalbard and Jan Mayen",SI:"Slovenia",KP:"North Korea",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",SA:"Saudi Arabia",
SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"British Virgin Islands",DE:"Germany",YE:"Yemen",AT:"Austria",DZ:"Algeria",US:"United States",YT:"Mayotte",UM:"U.S. Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Laos",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",LV:"Latvia",country_iso_code:"country_name",LT:"Republic of Lithuania",TM:"Turkmenistan",TJ:"Tajikistan",LS:"Lesotho",TH:"Thailand",
TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libya",VA:"Vatican City",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",IQ:"Iraq",VI:"U.S. Virgin Islands",IS:"Iceland",IR:"Iran",AM:"Armenia",AL:"Albania",VN:"Vietnam",AN:"Netherlands Antilles",AQ:"Antarctica",AP:"Asia/Pacific Region",AS:"American Samoa",AR:"Argentina",AU:"Australia",IL:"Israel",IO:"British Indian Ocean Territory",IN:"India",
TZ:"Tanzania",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",PA:"Panama",MY:"Malaysia",QA:"Qatar"}});_.namespace("mp.utility",function(a){a.bind_esc=function(a,c,d){d&&(c=_.bind(c,d));$("body").on("keydown."+a,function(d){27===d.which&&(c(d),$("body").off("keydown."+a))})};a.unbind_esc=function(a,c){c?$("body").off("keydown."+a,c):$("body").off("keydown."+a)};a.bind_outside_event=function(a,c,d,e,f){f&&(e=_.bind(e,f));$(document.body).on(a+"."+c+".OUTSIDE_EVENT",function(a){!$(d).is(a.target)&&!$.contains(d[0],a.target)&&$.contains(document,a.target)&&e(a)})};a.unbind_outside_event=function(a,c){$(document.body).off(a+
"."+c+".OUTSIDE_EVENT")};a.parseUri=function(b){for(var c=a.parseUri.options,b=c.parser[c.strictMode?"strict":"loose"].exec(b),d={},e=14;e--;)d[c.key[e]]=b[e]||"";d[c.q.name]={};d[c.key[12]].replace(c.q.parser,function(a,b,e){b&&(d[c.q.name][b]=e)});return d};a.parseUri.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var d=RegExp("\\.(aero|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|travel|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zr|zw)\\b");
a.isURL=function(a){if("string"!==typeof a||-1!==a.indexOf(" "))return!1;var c=/^https?:\/\//.test(a),e=0===a.indexOf("ftp://"),f=!c&&!e&&-1!==a.indexOf("@");return(c||d.test(a))&&!f&&!e};a.is_http_uri=function(a){return"string"===typeof a&&-1===a.indexOf(" ")&&/^https?:\/\//.test(a)};a.sanitize=function(a){return"undefined"!==typeof $?$("<div/>").text(a).html():a.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")};a.percentify=function(a,c){return 0<c?100*(a/c):0};a.percentage_to_int=
function(a){a=/(\d{0,3})\s*%/.exec(a)[1];return parseInt(a,10)};a.px_to_int=function(a){a=parseInt(a,10);isNaN(a)&&(a=0);return a};a.http_build_query=function(a,c){var d,e,f,h=0,j=[];c||(c="&");for(d in a)d&&(e=encodeURIComponent(a[d].toString()),f=encodeURIComponent(d),j[h++]=f+"="+e);return j.join(c)};a.shorten_string=function(a,c){c||(c=20);return a.length>c?a.substring(0,c)+"...":a};a.truncate_middle=function(a,c){if(a){if(3>=c)return a.substr(0,c);if(!(a.length<=c))return _.splice(a,(c-3)/2,
a.length-c+3,"...")}return a};a.truncate_url=function(a,c){var d=document.createElement("a");d.href=a;d=[d.host,d.pathname,d.search,d.hash].join("");d.length>c&&(d=mp.utility.shorten_string(d,c-3));return d};a.commaize=function(a,c){switch(typeof a){case "number":if(_.isNaN(a))return a;a=a.toString();break;case "string":break;default:return a}var d=!1;"-"===a[0]&&(d=!0,a=a.slice(1));var e=a.split("."),f=c?e[0]:parseInt(e[0]||0,10).toString();f.length&&(f=f.split("").reverse().join(""),f=f.match(/.{1,3}/g).join(","),
f=f.split("").reverse().join(""));e[1]&&(f+="."+e[1]);d&&(f="-"+f);return f};a.pluralize=function(a,c,d){return 0===c||1<c?d||a+"s":a};a.pretty_number=function(b,c){for(var b=parseFloat(b),c=void 0===c?1:c,d=[[Math.pow(10,15),"Q"],[Math.pow(10,12),"T"],[Math.pow(10,9),"B"],[Math.pow(10,6),"M"],[Math.pow(10,3),"K"]],e="",f=0;f<d.length;f++){var h=d[f][0],j=d[f][1];if(Math.abs(b)>=h){b/=h;e=j;break}}return a.pretty_number_raw(b,c)+e};a.pretty_number_raw=function(b,c){var b=parseFloat(b),d=0>b,e=b.toFixed(void 0===
c?1:c).split("."),f=a.commaize(Math.abs(parseInt(e[0],10)));e[1]&&0!==parseInt(e[1],10)&&(f+="."+e[1]);return(d?"-":"")+f};a.pretty_file_size=function(a){var c=["Bytes","KB","MB","GB","TB"],d=c.length;if(0===a)return"0 Bytes";var e=Math.floor(Math.log(a)/Math.log(1024)),c=e>=d?c[d-1]:c[e];return Math.round(a/Math.pow(1024,Math.min(e,d-1)))+" "+c};a.ordinalize=function(a){var c=Math.abs(a);if(_.include([11,12,13],c%100))return a+"th";switch(c%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+
"rd";default:return a+"th"}};a.format_numeric_bucket=function(b){b=b.split(" - ");return a.pretty_number(b[0])+" - "+a.pretty_number(b[1])};a.expand_num=function(a){var a=a.replace(/,/g,""),c=a.slice(0,a.length-1);return/.*M$/.test(a)?1E6*parseFloat(c):/.*K$/.test(a)?1E3*parseFloat(c):parseFloat(a)};a.deep_copy=function(){var b={},c,d,e={},f;for(c=arguments.length-1;0<=c;c--)if("undefined"!==typeof arguments[c])if(null!==arguments[c]&&"object"===typeof arguments[c]&&!_.isArray(arguments[c]))for(d in arguments[c])arguments[c].hasOwnProperty(d)&&
(e[d]=!0);else return arguments[c];for(d in e)if(e.hasOwnProperty(d)){f=[];for(c=0;c<arguments.length;c++)"undefined"!==typeof arguments[c]&&f.push(arguments[c][d]);b[d]=a.deep_copy.apply(this,f)}return b};a.floatformat=function(a,c){if("number"===typeof a){var d=a.toFixed(c),e=parseInt(d,10);return 0===d-e?e:d}return a};a.default_date_format="yyyy-MM-dd";a.to_localized_date=function(a){if(_.isNaN(mp.report.globals.utc_offset))throw"utc_offset not set";return(new Date(a.getUTCFullYear(),a.getUTCMonth(),
a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())).addMinutes(mp.report.globals.utc_offset)};a.to_localized_date_string=function(a){return mp.utility.to_localized_date(a).toString(this.default_date_format)};a.date_to_ms_epoch=function(a){var c,a=a.split(" "),d=a[0].split("-");a[1]&&(c=a[1].split(":"));"0"===d[1][0]&&(d[1]=d[1][1]);return c?(new Date(d[0],parseInt(d[1],10)-1,d[2],c[0],c[1],c[2])).getTime():(new Date(d[0],parseInt(d[1],10)-1,d[2])).getTime()};
a.MP_ANYTHING_EVENT="$mp_anything_event";a.prepare_event_names_for_dropdown=function(a){return a=_(a).chain().map(function(a){return[a,mp.utility.rename_mp_event(a)]}).sortBy(function(a){return a[1].toLowerCase()}).value()};a.rename_mp_event=function(a,c){var d={$campaign_delivery:"Notification Sent",$campaign_open:"Notification Opened",$campaign_bounced:"Notification Bounced",$campaign_marked_spam:"Notification Marked Spam",$experiment_started:"Experiment Started",$show_survey:"Show Survey",$top_events:"Your Top Events"};
c&&(d=_.invert(d));return _.has(d,a)?d[a]:a};a.mp_property_mapping={$answer_count:"Answer Count",$app_release:"App Release",$app_version:"App Version",$bluetooth_enabled:"Bluetooth Enabled",$bluetooth_version:"Bluetooth Version",$brand:"Brand",$browser:"Browser",$browser_version:"Browser Version",$carrier:"Carrier",$city:"City",$current_url:"Current URL",$experiments:"Experiments",$device:"Device",$duration:"Duration",$from_binding:"From Binding",$google_play_services:"Google Play Services",$has_nfc:"Has NFC",
$has_telephone:"Has Telephone",$import:"Import",$initial_referrer:"Initial Referrer",$initial_referring_domain:"Initial Referring Domain",$ios_ifa:"iOS IFA",$lib_version:"Library Version",$manufacturer:"Manufacturer",$model:"Model",$os:"Operating System",$os_version:"OS Version",$radio:"Radio",$referrer:"Referrer",$referring_domain:"Referring Domain",$region:"Region",$screen_dpi:"Screen DPI",$screen_height:"Screen Height",$screen_width:"Screen Width",$search_engine:"Search Engine",$survey_shown:"Survey Shown",
$watch_model:"Watch Model",$wifi:"Wifi",campaign_id:"Campaign",collection_id:"Collection ID",message_id:"Message ID",message_subtype:"Message Subtype",message_type:"Message Type",mp_country_code:"Country",mp_device_model:"Device Model",mp_keyword:"Search Keyword",mp_lib:"Mixpanel Library",survey_id:"Survey ID",utm_campaign:"UTM Campaign",utm_content:"UTM Content",utm_medium:"UTM Medium",utm_source:"UTM Source",utm_term:"UTM Term",mp_browser:"Browser",mp_page:"Page View",mp_platform:"Platform",mp_referrer:"Referrer"};
a.mp_property_inverse=_.invert(a.mp_property_mapping);a.rename_mp_property=function(b,c){var d=a.mp_property_mapping;return d.hasOwnProperty(b)?d[b]:c&&"campaign_id"===b&&a.includes_campaign_event([c])?"Campaign":"$"===b[0]&&1<b.length?_.map(b.substr(1).split("_"),_.capitalize).join(" "):b};a.to_mp_property=function(b){var c=a.mp_property_inverse;c.hasOwnProperty(b)&&(b=c[b]);return b};a.format_long_value=function(a,c){var d=c,e=Date.parseExact(d,"yyyy-MM-ddTHH:mm:ss");e&&(d=e.toString("ddd, MMM d, hh:mm tt"));
return _.trim(d)};a.make_tag=function(a,c,d){return $("<"+a+"></"+a+">",c).text(d)};a.format_html_property_value=function(b,c,d){var e;_.isUndefined(c)?e=$("<span>&nbsp;</span>"):(_.isObject(c)&&(c=JSON.stringify(c)),e=""+c,b&&(b.match(/^\$?email$/i)||a.is_valid_email(c))?(b=a.format_long_value(b,c),e=a.make_tag("a",{"class":"email_property_link",title:b,href:"mailto:"+e},e)):a.isURL(c)?(d=d?a.truncate_middle(e,d):e,b=e,-1===b.indexOf("://")&&(b="http://"+b),e=a.make_tag("a",{"class":"url_property_link",
target:"_blank",href:b,title:d!==e?e:void 0},d)):(b=a.format_long_value(b,c),e=a.make_tag("div",{title:b&&d&&b.length>d?b:void 0},e)));e.addClass("mp_tooltip_enabled");return e};a.includes_campaign_event=function(a){var c;try{c=Backbone.data.custom_events}catch(d){}return _.chain(a).map(function(a){var b;if(c){var d=c.get_by_name(a);d&&(b=d.get_alternatives())}return b||a}).flatten().any(function(a){return a&&a.match(/^\$campaign_/)}).value()};a.get_campaign_name=function(a){var c=_.findWhere(mp.report.globals.project_campaigns,
{"0":parseInt(a,10)});return c?c[1]:a.toString()};a.get_country_name=function(b){var c=a.country_codes,d=b.toUpperCase();return c.hasOwnProperty(d)?c[d]:b};var h=["$initial_referring_domain","$referring_domain","origin_domain","initial domain"];a.human_name_for_segment_value=function(b,c,d){var e=_.isObject(c)?c.name:c;"mp_country_code"===e?b=a.get_country_name(b):_.contains(h,c)?a.isURL(b)&&!/^http:\/\//.test(b)&&(b="http://"+b):"campaign_id"===e&&a.includes_campaign_event([d])&&(b=a.get_campaign_name(b));
return b};a.log=mp.globals&&mp.globals.debug&&window.console&&console.log&&console.log.apply?_.bind(console.log,console):function(){};a.warn=mp.globals&&mp.globals.debug&&window.console&&console.warn&&console.warn.apply?_.bind(console.warn,console):function(){};a.error=mp.globals&&mp.globals.debug&&window.console&&console.error&&console.error.apply?_.bind(console.error,console):function(){};a.group=mp.globals&&mp.globals.debug&&window.console&&console.group&&console.group.apply?_.bind(console.group,
console):a.log;a.groupCollapsed=mp.globals&&mp.globals.debug&&window.console&&console.groupCollapsed&&console.groupCollapsed.apply?_.bind(console.groupCollapsed,console):a.log;a.groupEnd=mp.globals&&mp.globals.debug&&window.console&&console.groupEnd&&console.groupEnd.apply?_.bind(console.groupEnd,console):function(){};a.timer={start_times:{},start:function(a){a=a||Math.random();this.start_times[a]=(new Date).getTime();return a},stop:function(a){var c=(new Date).getTime()-this.start_times[a];delete this.start_times[a];
return c}};a.string_time=function(a){var c=a/60,d=c/60,e=d/24,f=e/7;return isNaN(a)?"?":60>a?"less than a minute":90>c?c.toFixed(0)+" min.":36>d?d.toFixed(0)+" hours":11>e?e.toFixed(0)+" days":f.toFixed(0)+" weeks"};a.time_since_date=function(b){return a.string_time((new Date-b)/1E3)};a.inflect=function(a,c){"string"===typeof c&&(c=parseFloat(c));var d=a;if(1!==c)for(var e=[[/(s|ss|sh|ch|x|o)$/,"$1es"],[/([^aeiou])y$/,"$1ies"],[/$/,"s"]],f=0;f<e.length;f++)if(d.match(e[f][0])){d=d.replace(e[f][0],
e[f][1]);break}return d};a.format_duration=function(a){var c;60>a?c=" second":3600>a?(a=Math.floor(a/60),c=" minute"):86400>a?(a=(a/60/60).toFixed(1),c=" hour"):(a=(a/60/60/24).toFixed(1),c=" day");return a+mp.utility.inflect(c,a)};a.set_flag=function(a){$.post("/set_flag/",{flag:a});mp.report.globals.flags[a]=1};a.increment_flag=function(a){$.post("/increment_flag/",{flag:a});mp.report.globals.flags[a]=(mp.report.globals.flags[a]||0)+1};a.throttle=function(a,c,d){var e;return function(){var f=d||
this,h=arguments,j=function(){l();a.apply(f,h)},l=function(){e=null};clearTimeout(e);e?e=setTimeout(j,c):(a.apply(f,h),e=setTimeout(l,c))}};a.compute_sig=function(a){a.api_key=mp.report.globals.api_key;var c=(new Date).getTime()+mp.report.globals.local_offset;a.expire=Math.ceil(c/1E3)+3600;c=_.keys(a).sort();c=_.reduce(c,function(c,d){return _.isUndefined(a[d])?c:c+d+"="+a[d]},"");c+=mp.report.globals.api_secret;a.sig=hex_md5(c)};a.property_values_limit=function(){return 255};a.is_valid_email=function(a){return/^[+a-zA-Z0-9_.-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,}$/.test(a)};
a.strip_spaces_between_tags=function(a){return a.replace(/>\s+</g,"><")};a.spacer_row=function(a){var c=$('<tr class="spacer_row" style="height: 1px"></tr>'),d=$(a);d.is("tr")||(d=a.find("tr").first());d.find("th, td").each(function(a,b){var d=$(b).outerWidth(),e=$(b).attr("colspan"),d=$("<td></td>").html($("<div></div>").css("width",d+"px"));e&&d.attr("colspan",e);c.append(d)});return c};a.arb_escape=function(a,c){if(!_.isString(a))return JSON.stringify(a);a=a.replace(/\\/g,"\\\\").replace(/"/g,
'\\"');return c?a:_.sprintf('"%s"',a)};a.round=function(a,c){return Math.round(a*Math.pow(10,c))/Math.pow(10,c)};var f="#53a3eb,#32bbbd,#a28ccb,#da7b80,#2bb5e2,#e8bc66,#d390b6,#a0a7d6,#e8cc75,#f3ba41,#7d92cd,#24be86".split(","),e="#2ec6c8,#a58bd6,#c68185,#5ab0ee,#dcbd80,#94C897,#8E95F2,#76B9ED,#D39D23,#AF85C9".split(","),j=["#dc747a","#3c9aef","#f8970e"];a.nth_color=function(a,c){var d;d="vibrant"===c?e:"colorblind"===c?j:f;return d[a%d.length]};a.regex_escape=function(a){return(""+a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,
"\\$1").replace(/\x08/g,"\\x08")};a.base64_encode=function(b){var c,d,e,f,h=0,j=0,l="",l=[];if(!b)return b;b=a.utf8_encode(b);do c=b.charCodeAt(h++),d=b.charCodeAt(h++),e=b.charCodeAt(h++),f=c<<16|d<<8|e,c=f>>18&63,d=f>>12&63,e=f>>6&63,f&=63,l[j++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f);
while(h<b.length);l=l.join("");switch(b.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l};a.utf8_encode=function(a){var a=(a+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),c="",d,e,f=0,h;d=e=0;f=a.length;for(h=0;h<f;h++){var j=a.charCodeAt(h),l=null;128>j?e++:l=127<j&&2048>j?String.fromCharCode(j>>6|192,j&63|128):String.fromCharCode(j>>12|224,j>>6&63|128,j&63|128);null!==l&&(e>d&&(c+=a.substring(d,e)),c+=l,d=e=h+1)}e>d&&(c+=a.substring(d,a.length));return c};a.get_next_month=
function(a){var c=(a.getUTCMonth()+1)%12,a=a.getUTCFullYear()+Math.floor((a.getUTCMonth()+1)/12),c=new Date(a,c,1);return c.addMinutes(-c.getTimezoneOffset())};a.first_of_month=function(a){a=new Date(a.getUTCFullYear(),a.getUTCMonth(),1);return a.addMinutes(-a.getTimezoneOffset())};a.get_name_initials=function(a){var a=a.replace(/^\s+|\s+$/g,""),c="";a&&(a=a.split(" "),c=a[0].charAt(0),1<a.length&&(c+=a[a.length-1].charAt(0)));return c};a.get_color_class_for_string=function(a){for(var c=null;!c;)a=
b64_md5(a||""),c=_.first(a.match(/[a-z]/i));return"color_"+c.toUpperCase()};a.stats={stat:function(a,c,d){d=d||{};return $.get("/stats/stat",{metric:a,value:c,tags:JSON.stringify(d)})}};a.get_people_events_or_standard_property_filter_class=function(){return mp.report.globals.is_people_events_active?mp.widgets.PeopleEventsPropertyFilter:mp.widgets.PropertyFilter};a.get_people_events_or_standard_property_select_class=function(){return mp.report.globals.is_people_events_active?Backbone.widgets.PeopleEventsPropertySelect:
Backbone.widgets.PropertySelect};var l="$answers,$campaigns,$deliveries,$experiments,$events_distinct_id,$notifications,$predict_convert_event,$predict_grade_last_updated".split(",");a.get_global_hidden_people_properties=function(){return _.clone(l)};a.CSS_TRANSITION_END_EVENTS="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";a.extract_frequency_from_filters=function(a){return(a=_.findWhere(a,{type:"frequency"}))?mp.widgets.PeopleEventsPropertyFilter.get_frequency_value(a):null};
a.parse_selector=function(a){var c={};if(_.isObject(a)){if(!_.isEmpty(a.behaviors))c.behaviors=a.behaviors;if(a.selector)c.selector=a.selector}else c.selector=a;return c};a.build_selector=function(a,c){return _.isEmpty(c)?a:{selector:a,behaviors:c}}});(function(a){var d,h,f,e,j,l,b,c,i,o,p=0,k={},n=[],q=0,m={},v=[],B=null,y=new Image,G=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,H=/[^\.]\.(swf)\s*$/i,g,u=1,z=0,x="",w,t,s=!1,A=a.extend(a("<div/>")[0],{prop:0}),D=a.browser.msie&&7>a.browser.version&&!window.XMLHttpRequest,I=function(){h.hide();y.onerror=y.onload=null;B&&B.abort();d.empty()},J=function(){!1===k.onError(n,p,k)?(h.hide(),s=!1):(k.titleShow=!1,k.width="auto",k.height="auto",d.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),
F())},E=function(){var b=n[p],c,e,f,g,i,j;I();k=a.extend({},a.fn.fancybox.defaults,"undefined"==typeof a(b).data("fancybox")?k:a(b).data("fancybox"));j=k.onStart(n,p,k);if(!1===j)s=!1;else{"object"==typeof j&&(k=a.extend(k,j));f=k.title||(b.nodeName?a(b).attr("title"):b.title)||"";if(b.nodeName&&!k.orig)k.orig=a(b).children("img:first").length?a(b).children("img:first"):a(b);""===f&&k.orig&&k.titleFromAlt&&(f=k.orig.attr("alt"));c=k.href||(b.nodeName?a(b).attr("href"):b.href)||null;if(/^(?:javascript)/i.test(c)||
"#"==c)c=null;if(k.type){if(e=k.type,!c)c=k.content}else k.content?e="html":c&&(e=c.match(G)?"image":c.match(H)?"swf":a(b).hasClass("iframe")?"iframe":0===c.indexOf("#")?"inline":"ajax");if(e){"inline"==e&&(b=c.substr(c.indexOf("#")),e=0<a(b).length?"inline":"ajax");k.type=e;k.href=c;k.title=f;if(k.autoDimensions&&"iframe"!==k.type&&"swf"!==k.type)k.width="auto",k.height="auto";if(k.modal)k.overlayShow=!0,k.hideOnOverlayClick=!1,k.hideOnContentClick=!1,k.enableEscapeButton=!1,k.showCloseButton=!1;
k.padding=parseInt(k.padding,10);k.margin=parseInt(k.margin,10);d.css("padding",k.padding+k.margin);a(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){a(this).replaceWith(l.children())});switch(e){case "html":d.html(k.content);F();break;case "inline":if(!0===a(b).parent().is("#fancybox-content")){s=!1;break}a('<div class="fancybox-inline-tmp" />').hide().insertBefore(a(b)).bind("fancybox-cleanup",function(){a(this).replaceWith(l.children())}).bind("fancybox-cancel",
function(){a(this).replaceWith(d.children())});a(b).appendTo(d);F();break;case "image":s=!1;a.fancybox.showActivity();y=new Image;y.onerror=function(){J()};y.onload=function(){s=!0;y.onerror=y.onload=null;k.width=y.width;k.height=y.height;a("<img />").attr({id:"fancybox-img",src:y.src,alt:k.title}).appendTo(d);K()};y.src=c;break;case "swf":g='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+k.width+'" height="'+k.height+'"><param name="movie" value="'+c+'"></param>';i="";a.each(k.swf,
function(a,b){g+='<param name="'+a+'" value="'+b+'"></param>';i+=" "+a+'="'+b+'"'});g+='<embed src="'+c+'" type="application/x-shockwave-flash" width="'+k.width+'" height="'+k.height+'"'+i+"></embed></object>";d.html(g);F();break;case "ajax":s=!1;a.fancybox.showActivity();k.ajax.win=k.ajax.success;B=a.ajax(a.extend({},k.ajax,{url:c,data:k.ajax.data||{},error:function(a){0<a.status&&J()},success:function(a,b,e){if(200==e.status){if("function"==typeof k.ajax.win){j=k.ajax.win(c,a,b,e);if(!1===j){h.hide();
return}if("string"==typeof j||"object"==typeof j)a=j}d.html(a);F()}}}));break;case "iframe":K()}}else J()}},F=function(){d.width(k.width);d.height(k.height);if("auto"==k.width)k.width=d.width();if("auto"==k.height)k.height=d.height();K()},K=function(){var g,P;h.hide();if(e.is(":visible")&&!1===m.onCleanup(v,q,m))a.event.trigger("fancybox-cancel"),s=!1;else{s=!0;a(l.add(f)).unbind();a(window).unbind("resize.fb scroll.fb");a(document).unbind("keydown.fb");e.is(":visible")&&"outside"!==m.titlePosition&&
e.css("height",e.height());v=n;q=p;m=k;if(m.overlayShow){if(f.css({"background-color":m.overlayColor,opacity:m.overlayOpacity,cursor:m.hideOnOverlayClick?"pointer":"auto",height:a(document).height()}),!f.is(":visible")){if(D)a("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"});f.show()}}else f.hide();l.get(0).scrollTop=0;l.get(0).scrollLeft=0;t=Q();x=m.title||
"";z=0;c.empty().removeAttr("style").removeClass();if(!1!==m.titleShow&&(x=a.isFunction(m.titleFormat)?m.titleFormat(x,v,q,m):x&&x.length?"float"==m.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+x+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+m.titlePosition+'">'+x+"</div>":!1)&&""!==x)switch(c.addClass("fancybox-title-"+m.titlePosition).html(x).appendTo("body").show(),
m.titlePosition){case "inside":c.css({width:t.width-2*m.padding,marginLeft:m.padding,marginRight:m.padding});z=c.outerHeight(!0);c.appendTo(j);t.height+=z;break;case "over":c.css({marginLeft:m.padding,width:t.width-2*m.padding,bottom:m.padding}).appendTo(j);break;case "float":c.css("left",-1*parseInt((c.width()-t.width-40)/2,10)).appendTo(e);break;default:c.css({width:t.width-2*m.padding,paddingLeft:m.padding,paddingRight:m.padding}).appendTo(e)}c.hide();if(e.is(":visible"))a(b.add(i).add(o)).hide(),
g=e.position(),w={top:g.top,left:g.left,width:e.width(),height:e.height()},P=w.width==t.width&&w.height==t.height,l.fadeTo(m.changeFade,0.3,function(){var b=function(){l.html(d.contents()).fadeTo(m.changeFade,1,L)};a.event.trigger("fancybox-change");l.empty().removeAttr("filter").css({"border-width":m.padding,width:t.width-2*m.padding,height:"image"==m.type||"swf"==m.type||"iframe"==m.type?t.height-z-2*m.padding:"auto"});P?b():(A.prop=0,a(A).animate({prop:1},{duration:m.changeSpeed,easing:m.easingChange,
step:M,complete:b}))});else if(e.removeAttr("style"),l.css("border-width",m.padding),"elastic"==m.transitionIn){w=O();l.html(d.contents());e.show();if(m.opacity)t.opacity=0;A.prop=0;a(A).animate({prop:1},{duration:m.speedIn,easing:m.easingIn,step:M,complete:L})}else"inside"==m.titlePosition&&0<z&&c.show(),l.css({width:t.width-2*m.padding,height:"image"==m.type||"swf"==m.type||"iframe"==m.type?t.height-z-2*m.padding:"auto"}).html(d.contents()),e.css(t).fadeIn("none"==m.transitionIn?0:m.fadeIn,L)}},
C=function(){(m.enableEscapeButton||m.enableKeyboardNav)&&a(document).bind("keydown.fb",function(b){if(27==b.keyCode&&m.enableEscapeButton)b.preventDefault(),a.fancybox.close();else if((37==b.keyCode||39==b.keyCode)&&m.enableKeyboardNav&&"INPUT"!==b.target.tagName&&"TEXTAREA"!==b.target.tagName&&"SELECT"!==b.target.tagName)b.preventDefault(),a.fancybox[37==b.keyCode?"prev":"next"]()});m.showNavArrows?((m.cyclic&&1<v.length||0!==q)&&i.show(),(m.cyclic&&1<v.length||q!=v.length-1)&&o.show()):(i.hide(),
o.hide())},L=function(){a.support.opacity||(l.get(0).style.removeAttribute("filter"),e.get(0).style.removeAttribute("filter"));e.css("height","auto");"image"!==m.type&&"swf"!==m.type&&"iframe"!==m.type&&l.css("height","auto");x&&x.length&&c.show();m.showCloseButton&&b.show();C();m.hideOnContentClick&&l.bind("click",a.fancybox.close);m.hideOnOverlayClick&&f.bind("click",a.fancybox.close);a(window).bind("resize.fb",a.fancybox.resize);m.centerOnScroll&&a(window).bind("scroll.fb",a.fancybox.center);"iframe"==
m.type&&a('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(a.browser.msie?'allowtransparency="true""':"")+' scrolling="'+k.scrolling+'" src="'+m.href+'"></iframe>').appendTo(l);e.show();s=!1;a.fancybox.center();m.onComplete(v,q,m);var d,g;if(v.length-1>q&&(d=v[q+1].href,"undefined"!==typeof d&&d.match(G)))g=new Image,g.src=d;if(0<q&&(d=v[q-1].href,"undefined"!==typeof d&&d.match(G)))g=new Image,g.src=d},M=function(a){var b={width:parseInt(w.width+
(t.width-w.width)*a,10),height:parseInt(w.height+(t.height-w.height)*a,10),top:parseInt(w.top+(t.top-w.top)*a,10),left:parseInt(w.left+(t.left-w.left)*a,10)};if("undefined"!==typeof t.opacity)b.opacity=0.5>a?0.5:a;e.css(b);l.css({width:b.width-2*m.padding,height:b.height-z*a-2*m.padding})},N=function(){return[a(window).width()-2*m.margin,a(window).height()-2*m.margin,a(document).scrollLeft()+m.margin,a(document).scrollTop()+m.margin]},Q=function(){var a=N(),b={},c=m.autoScale,d=2*m.padding;b.width=
-1<m.width.toString().indexOf("%")?parseInt(a[0]*parseFloat(m.width)/100,10):m.width+d;b.height=-1<m.height.toString().indexOf("%")?parseInt(a[1]*parseFloat(m.height)/100,10):m.height+d;if(c&&(b.width>a[0]||b.height>a[1]))if("image"==k.type||"swf"==k.type){c=m.width/m.height;if(b.width>a[0])b.width=a[0],b.height=parseInt((b.width-d)/c+d,10);if(b.height>a[1])b.height=a[1],b.width=parseInt((b.height-d)*c+d,10)}else b.width=Math.min(b.width,a[0]),b.height=Math.min(b.height,a[1]);b.top=parseInt(Math.max(a[3]-
20,a[3]+0.5*(a[1]-b.height-40)),10);b.left=parseInt(Math.max(a[2]-20,a[2]+0.5*(a[0]-b.width-40)),10);return b},O=function(){var b=k.orig?a(k.orig):!1,c={};b&&b.length?(c=b.offset(),c.top+=parseInt(b.css("paddingTop"),10)||0,c.left+=parseInt(b.css("paddingLeft"),10)||0,c.top+=parseInt(b.css("border-top-width"),10)||0,c.left+=parseInt(b.css("border-left-width"),10)||0,c.width=b.width(),c.height=b.height(),c={width:c.width+2*m.padding,height:c.height+2*m.padding,top:c.top-m.padding-20,left:c.left-m.padding-
20}):(b=N(),c={width:2*m.padding,height:2*m.padding,top:parseInt(b[3]+0.5*b[1],10),left:parseInt(b[2]+0.5*b[0],10)});return c},R=function(){h.is(":visible")?(a("div",h).css("top",-40*u+"px"),u=(u+1)%12):clearInterval(g)};a.fn.fancybox=function(b){if(!a(this).length)return this;a(this).data("fancybox",a.extend({},b,a.metadata?a(this).metadata():{})).unbind("click.fb").bind("click.fb",function(b){b.preventDefault();s||(s=!0,a(this).blur(),n=[],p=0,b=a(this).attr("rel")||"",!b||""==b||"nofollow"===b?
n.push(this):(n=a("a[rel="+b+"], area[rel="+b+"]"),p=n.index(this)),E())});return this};a.fancybox=function(b,c){var d;if(!s){s=!0;d="undefined"!==typeof c?c:{};n=[];p=parseInt(d.index,10)||0;if(a.isArray(b)){for(var e=0,f=b.length;e<f;e++)"object"==typeof b[e]?a(b[e]).data("fancybox",a.extend({},d,b[e])):b[e]=a({}).data("fancybox",a.extend({content:b[e]},d));n=jQuery.merge(n,b)}else"object"==typeof b?a(b).data("fancybox",a.extend({},d,b)):b=a({}).data("fancybox",a.extend({content:b},d)),n.push(b);
if(p>n.length||0>p)p=0;E()}};a.fancybox.showActivity=function(){clearInterval(g);h.show();g=setInterval(R,66)};a.fancybox.hideActivity=function(){h.hide()};a.fancybox.next=function(){return a.fancybox.pos(q+1)};a.fancybox.prev=function(){return a.fancybox.pos(q-1)};a.fancybox.pos=function(a){s||(a=parseInt(a),n=v,-1<a&&a<v.length?(p=a,E()):m.cyclic&&1<v.length&&(p=a>=v.length?0:v.length-1,E()))};a.fancybox.cancel=function(){s||(s=!0,a.event.trigger("fancybox-cancel"),I(),k.onCancel(n,p,k),s=!1)};
a.fancybox.close=function(){function d(){f.fadeOut("fast");c.empty().hide();e.hide();a.event.trigger("fancybox-cleanup");l.empty();m.onClosed(v,q,m);v=k=[];q=p=0;m=k={};s=!1}if(!s&&!e.is(":hidden"))if(s=!0,m&&!1===m.onCleanup(v,q,m))s=!1;else if(I(),a(b.add(i).add(o)).hide(),a(l.add(f)).unbind(),a(window).unbind("resize.fb scroll.fb"),a(document).unbind("keydown.fb"),l.find("iframe").attr("src",D&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==m.titlePosition&&
c.empty(),e.stop(),"elastic"==m.transitionOut){w=O();var g=e.position();t={top:g.top,left:g.left,width:e.width(),height:e.height()};if(m.opacity)t.opacity=1;c.empty().hide();A.prop=1;a(A).animate({prop:0},{duration:m.speedOut,easing:m.easingOut,step:M,complete:d})}else e.fadeOut("none"==m.transitionOut?0:m.speedOut,d)};a.fancybox.resize=function(){f.is(":visible")&&f.css("height",a(document).height());a.fancybox.center(!0)};a.fancybox.center=function(a){var b,c;if(!s&&(c=!0===a?1:0,b=N(),c||!(e.width()>
b[0]||e.height()>b[1])))e.stop().animate({top:parseInt(Math.max(b[3]-20,b[3]+0.5*(b[1]-l.height()-40)-m.padding)),left:parseInt(Math.max(b[2]-20,b[2]+0.5*(b[0]-l.width()-40)-m.padding))},"number"==typeof a?a:200)};a.fancybox.init=function(){a("#fancybox-wrap").length||(a("body").append(d=a('<div id="fancybox-tmp"></div>'),h=a('<div id="fancybox-loading"><div></div></div>'),f=a('<div id="fancybox-overlay"></div>'),e=a('<div id="fancybox-wrap"></div>')),j=a('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(e),
j.append(l=a('<div id="fancybox-content"></div>'),b=a('<a id="fancybox-close"></a>'),c=a('<div id="fancybox-title"></div>'),i=a('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),o=a('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),b.click(a.fancybox.close),h.click(a.fancybox.cancel),i.click(function(b){b.preventDefault();a.fancybox.prev()}),o.click(function(b){b.preventDefault();a.fancybox.next()}),
a.fn.mousewheel&&e.bind("mousewheel.fb",function(b,c){b.preventDefault();a.fancybox[0<c?"prev":"next"]()}),a.support.opacity||e.addClass("fancybox-ie"),D&&(h.addClass("fancybox-ie6"),e.addClass("fancybox-ie6"),a('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(j)))};a.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,
scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:0.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,
onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};a(document).ready(function(){a.fancybox.init()})})(jQuery);

//# sourceMappingURL=/site_media/bundle/universal.min.js.map
